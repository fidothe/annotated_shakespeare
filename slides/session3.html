<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="localStorage.key" content="slideno" /><title>Practical Web Applications</title><script type="text/javascript" language="javascript" src="js/jquery-1.6.2.min.js"></script><script type="text/javascript" language="javascript" src="js/jquery-ui-1.8.16.custom.min.js"></script><script type="text/javascript" language="javascript" src="js/jquery-timers-1.2.js"></script><script type="text/javascript" language="javascript" src="js/jquery.ba-hashchange.min.js"></script><script type="text/javascript" language="javascript" src="js/slides.js"></script><link type="text/css" rel="stylesheet" href="css/ui-lightness/jquery-ui-1.8.16.custom.css" /><link type="text/css" rel="stylesheet" href="css/slides.css" /><script type="text/javascript" src="js/halma-localstorage.js"></script><script type="text/javascript" src="js/halma.js"></script><script type="text/javascript" src="js/html-js.js"></script><link rel="stylesheet" type="text/css" href="css/html-css.css" /><link rel="stylesheet" type="text/css" href="css/pygments.css" /><meta name="slides.timer" content="true" /><meta name="slides.countdown" content="180:00" /></head><body><div class="foil titlefoil"><div class="page"><div class="header"><h1>Practical Web Applications</h1><h2>20 September 2012</h2></div><div class="body"><h1>Session Three</h1><div class="authorgroup"><div class="author"><h2><span class="personname"><span class="firstname">Lauren</span> <span class="surname">Wood</span></span></h2><h3><span class="orgname">Textuality Services, Inc.</span></h3></div><div class="author"><h2><span class="personname"><span class="firstname">Matt</span> <span class="surname">Patterson</span></span></h2><h3><span class="orgname">Constituent Parts, Ltd.</span></h3></div><div class="author"><h2><span class="personname"><span class="firstname">Norman </span> <span class="surname">Walsh</span></span></h2><h3><span class="orgname">MarkLogic</span></h3></div><div class="author"><h2><span class="personname"><span class="firstname">Paul</span> <span class="surname">Downey</span></span></h2><h3><span class="orgname">GDS</span></h3></div></div><div class="legalnotice"><p>Alpha by first name</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Agenda</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><ul class="toc"><li><a href="#1">An HTML overview</a></li><li><a href="#6">HTML</a></li><li><a href="#24">Q&amp;A</a></li><li><a href="#25">Modelling Plays for our app</a></li><li><a href="#28">Extracting data from the Play XML with Nokogiri</a></li><li><a href="#31">Generating HTML for an Act using XSLT</a></li><li><a href="#34">Wiring everything together</a></li></ul></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div></div></div><div class="foil titlefoil foilgroup"><div class="page"><div class="header"><h1>An HTML overview</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">1</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Learning Objectives</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>The language of the web, HTML, is getting the largest and most
significant update perhaps in its entire history. The update includes
both new features and new expectations of browser
interoperability.</p><p>Modern web applications are built on three essential technologies:</p><div class="orderedlist"><ol style="list-style: decimal;"><li><p>HTML</p></li><li><p>CSS</p></li><li><p>JavaScript</p></li></ol></div></div><div class="foil-notes"><div class="foilinset"><p>The language of the web, HTML, is getting the largest and most
significant update perhaps in its entire history. The update includes
both new features and new expectations of browser
interoperability.</p><p>Modern web applications are built on three essential technologies:</p><div class="orderedlist"><ol style="list-style: decimal;"><li><p>HTML</p></li><li><p>CSS</p></li><li><p>JavaScript</p></li></ol></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">2</div></div></div><div class="foil"><div class="page"><div class="header"><h1>The role of HTML</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>HTML(5) is the scaffolding. HTML5 brings:</p><div class="itemizedlist"><ul><li><p>Better interoperability</p></li><li><p>New semantic markup</p></li><li><p>New inlines</p></li><li><p>Better form controls</p></li><li><p>New ways of addressing mixed media</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><p>HTML(5) is the scaffolding. HTML5 brings:</p><div class="itemizedlist"><ul><li><p>Better interoperability</p></li><li><p>New semantic markup</p></li><li><p>New inlines</p></li><li><p>Better form controls</p></li><li><p>New ways of addressing mixed media</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">3</div></div></div><div class="foil"><div class="page"><div class="header"><h1>The role of CSS</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Cascading Style Sheets (CSS) are the skin:</p><div class="itemizedlist"><ul><li><p>Declarative style rules</p></li><li><p>Media-specific styling</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><p>Cascading Style Sheets (CSS) are the skin:</p><div class="itemizedlist"><ul><li><p>Declarative style rules</p></li><li><p>Media-specific styling</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">4</div></div></div><div class="foil"><div class="page"><div class="header"><h1>The role of JavaScript</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>JavaScript adds interactivity:</p><div class="itemizedlist"><ul><li><p>Dynamic behaviors in response to the user</p></li><li><p>“Application logic”</p></li><li><p>“Mashups”</p></li><li><p>Browsers provide APIs for additional functionality: geolocation,
client-side storage, etc.</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><p>JavaScript adds interactivity:</p><div class="itemizedlist"><ul><li><p>Dynamic behaviors in response to the user</p></li><li><p>“Application logic”</p></li><li><p>“Mashups”</p></li><li><p>Browsers provide APIs for additional functionality: geolocation,
client-side storage, etc.</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">5</div></div></div><div class="foil titlefoil foilgroup"><div class="page"><div class="header"><h1>HTML</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">6</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Of HTML, XML, and SGML: A History</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="itemizedlist"><ul><li><p>Before there was XML, there was HTML. (And before that, SGML. And before that, …)</p></li><li><p>HTML (nominally SGML) and XHTML (XML) coexisted for a while.</p></li><li><p>HTML5 is not XML. It's not even nominally SGML.</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><div class="itemizedlist"><ul><li><p>Before there was XML, there was HTML. (And before that, SGML. And before that, …)</p></li><li><p>HTML (nominally SGML) and XHTML (XML) coexisted for a while.</p></li><li><p>HTML5 is not XML. It's not even nominally SGML.</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">7</div></div></div><div class="foil"><div class="page"><div class="header"><h1>HTML vs XML</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="itemizedlist"><ul><li><p>Philosophically, the differences are (mostly) about well-formedness and namespaces.
</p></li><li><p>HTML is <em>a</em> language. XML is a language for creating languages.
</p></li><li><p>Syntactically, the differences are (mostly) about error correction, browser interoperability,
and author convenience.
</p><div class="itemizedlist"><ul><li><p><code class="code">&lt;div&gt;&lt;p&gt;Some text&lt;/div&gt;</code> vs. <code class="code">&lt;div&gt;&lt;p&gt;Some text&lt;/p&gt;&lt;/div&gt;</code>
</p></li><li><p><code class="code">&lt;div id=myId&gt;...</code> vs. <code class="code">&lt;div id="myId"&gt;...</code>
</p></li><li><p><code class="code">&lt;img src="pic.jpg"&gt;</code> vs. <code class="code">&lt;img src="pic.jpg"/&gt;</code>
</p></li><li><p><code class="code">&lt;video autoplay&gt;</code> vs. <code class="code">&lt;video autoplay="autoplay"&gt;</code>
</p></li></ul></div></li></ul></div></div><div class="foil-notes"><div class="foilinset"><div class="itemizedlist"><ul><li><p>Philosophically, the differences are (mostly) about well-formedness and namespaces.
</p></li><li><p>HTML is <em>a</em> language. XML is a language for creating languages.
</p></li><li><p>Syntactically, the differences are (mostly) about error correction, browser interoperability,
and author convenience.
</p><div class="itemizedlist"><ul><li><p><code class="code">&lt;div&gt;&lt;p&gt;Some text&lt;/div&gt;</code> vs. <code class="code">&lt;div&gt;&lt;p&gt;Some text&lt;/p&gt;&lt;/div&gt;</code>
</p></li><li><p><code class="code">&lt;div id=myId&gt;...</code> vs. <code class="code">&lt;div id="myId"&gt;...</code>
</p></li><li><p><code class="code">&lt;img src="pic.jpg"&gt;</code> vs. <code class="code">&lt;img src="pic.jpg"/&gt;</code>
</p></li><li><p><code class="code">&lt;video autoplay&gt;</code> vs. <code class="code">&lt;video autoplay="autoplay"&gt;</code>
</p></li></ul></div></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">8</div></div></div><div class="foil"><div class="page"><div class="header"><h1>HTML and XML revisited: Polyglot markup</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>It is possible to compose documents such that they are “the same” whether you parse
them with an HTML5 parser or an XML parser. Doing so requires following the “polyglot”
rules:</p><div class="itemizedlist"><ul><li><p>Use namespaces for HTML, MathML, and SVG. Use only the default namespace (no prefixes)</p></li><li><p>Include <code class="tag-element">html</code>, <code class="tag-element">head</code>, <code class="tag-element">title</code>, and <code class="tag-element">body</code> elements</p></li><li><p>Include <code class="tag-element">tbody</code> in every <code class="tag-element">table</code></p></li><li><p>Include <code class="tag-element">colgroup</code> if you're using <code class="tag-element">col</code> elements</p></li><li><p>Use exclusively lowercase except for a handful of SVG elements and attributes</p></li><li><p>Only empty element syntax for a specific list of elements.</p></li><li><p>Etc.</p></li><li><p>See <em class="citetitle"><a href="http://www.w3.org/TR/html-polyglot/">Polyglot Markup:
HTML-Compatible XHTML Documents</a></em></p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><p>It is possible to compose documents such that they are “the same” whether you parse
them with an HTML5 parser or an XML parser. Doing so requires following the “polyglot”
rules:</p><div class="itemizedlist"><ul><li><p>Use namespaces for HTML, MathML, and SVG. Use only the default namespace (no prefixes)</p></li><li><p>Include <code class="tag-element">html</code>, <code class="tag-element">head</code>, <code class="tag-element">title</code>, and <code class="tag-element">body</code> elements</p></li><li><p>Include <code class="tag-element">tbody</code> in every <code class="tag-element">table</code></p></li><li><p>Include <code class="tag-element">colgroup</code> if you're using <code class="tag-element">col</code> elements</p></li><li><p>Use exclusively lowercase except for a handful of SVG elements and attributes</p></li><li><p>Only empty element syntax for a specific list of elements.</p></li><li><p>Etc.</p></li><li><p>See <em class="citetitle"><a href="http://www.w3.org/TR/html-polyglot/">Polyglot Markup:
HTML-Compatible XHTML Documents</a></em></p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">9</div></div></div><div class="foil"><div class="page"><div class="header"><h1>New HTML elements</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>The following slides provide a survey of some of the new features introduced in HTML5.</p><div class="itemizedlist"><ul><li><p><code class="tag-element">article</code>, <code class="tag-element">header</code>, <code class="tag-element">section</code>, <code class="tag-element">footer</code></p></li><li><p><code class="tag-element">hgroup</code></p></li></ul></div><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;article&gt;</span>
  <span class="nt">&lt;header&gt;</span>
    <span class="nt">&lt;hgroup&gt;</span>
      <span class="nt">&lt;h1&gt;</span>Article Title<span class="nt">&lt;/h1&gt;</span>
      <span class="nt">&lt;h2&gt;</span>Article subtitle<span class="nt">&lt;/h2&gt;</span>
    <span class="nt">&lt;/hgroup&gt;</span>
  <span class="nt">&lt;/header&gt;</span>
  <span class="nt">&lt;p&gt;</span>Article content…<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;section&gt;</span>
    <span class="nt">&lt;header&gt;</span>
      <span class="nt">&lt;h1&gt;</span>Section header<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;/header&gt;</span>
    <span class="nt">&lt;p&gt;</span>Section content…<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;/section&gt;</span>
  <span class="nt">&lt;footer&gt;</span>
    <span class="nt">&lt;p&gt;</span>Footer content<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;/footer&gt;</span>
<span class="nt">&lt;/article&gt;</span></pre></div></div><div class="foil-notes"><div class="foilinset"><p>The following slides provide a survey of some of the new features introduced in HTML5.</p><div class="itemizedlist"><ul><li><p><code class="tag-element">article</code>, <code class="tag-element">header</code>, <code class="tag-element">section</code>, <code class="tag-element">footer</code></p></li><li><p><code class="tag-element">hgroup</code></p></li></ul></div><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;article&gt;</span>
  <span class="nt">&lt;header&gt;</span>
    <span class="nt">&lt;hgroup&gt;</span>
      <span class="nt">&lt;h1&gt;</span>Article Title<span class="nt">&lt;/h1&gt;</span>
      <span class="nt">&lt;h2&gt;</span>Article subtitle<span class="nt">&lt;/h2&gt;</span>
    <span class="nt">&lt;/hgroup&gt;</span>
  <span class="nt">&lt;/header&gt;</span>
  <span class="nt">&lt;p&gt;</span>Article content…<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;section&gt;</span>
    <span class="nt">&lt;header&gt;</span>
      <span class="nt">&lt;h1&gt;</span>Section header<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;/header&gt;</span>
    <span class="nt">&lt;p&gt;</span>Section content…<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;/section&gt;</span>
  <span class="nt">&lt;footer&gt;</span>
    <span class="nt">&lt;p&gt;</span>Footer content<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;/footer&gt;</span>
<span class="nt">&lt;/article&gt;</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">10</div></div></div><div class="foil"><div class="page"><div class="header"><h1>New HTML elements (continued)</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="itemizedlist"><ul><li><p><code class="tag-element">aside</code></p></li><li><p><code class="tag-element">nav</code></p></li></ul></div><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;body&gt;</span>
 <span class="nt">&lt;nav&gt;</span>
   <span class="nt">&lt;p&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/"</span><span class="nt">&gt;</span>Home<span class="nt">&lt;/a&gt;&lt;/p&gt;</span>
 <span class="nt">&lt;/nav&gt;</span>
 <span class="nt">&lt;p&gt;</span>Hello world.<span class="nt">&lt;/p&gt;</span>
 <span class="nt">&lt;aside&gt;</span>
  <span class="nt">&lt;p&gt;</span>Some “sidebar” material<span class="nt">&lt;/p&gt;</span>
 <span class="nt">&lt;/aside&gt;</span>
<span class="nt">&lt;/body&gt;</span></pre></div></div><div class="foil-notes"><div class="foilinset"><div class="itemizedlist"><ul><li><p><code class="tag-element">aside</code></p></li><li><p><code class="tag-element">nav</code></p></li></ul></div><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;body&gt;</span>
 <span class="nt">&lt;nav&gt;</span>
   <span class="nt">&lt;p&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/"</span><span class="nt">&gt;</span>Home<span class="nt">&lt;/a&gt;&lt;/p&gt;</span>
 <span class="nt">&lt;/nav&gt;</span>
 <span class="nt">&lt;p&gt;</span>Hello world.<span class="nt">&lt;/p&gt;</span>
 <span class="nt">&lt;aside&gt;</span>
  <span class="nt">&lt;p&gt;</span>Some “sidebar” material<span class="nt">&lt;/p&gt;</span>
 <span class="nt">&lt;/aside&gt;</span>
<span class="nt">&lt;/body&gt;</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">11</div></div></div><div class="foil"><div class="page"><div class="header"><h1>New HTML elements (continued)</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="itemizedlist"><ul><li><p><code class="tag-element">details</code></p></li></ul></div><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;details</span> <span class="na">open=</span><span class="s">"open"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;summary&gt;</span>Task summary<span class="nt">&lt;/summary&gt;</span>
  <span class="nt">&lt;dl&gt;</span>
    <span class="nt">&lt;dt&gt;</span>Detail 1<span class="nt">&lt;/dt&gt;</span>
    <span class="nt">&lt;dt&gt;</span>Detail 2<span class="nt">&lt;/dt&gt;</span>
    <span class="nt">&lt;dt&gt;</span>Detail 3<span class="nt">&lt;/dt&gt;</span>
  <span class="nt">&lt;/dl&gt;</span>
<span class="nt">&lt;/details&gt;</span></pre></div></div><div class="foil-notes"><div class="foilinset"><div class="itemizedlist"><ul><li><p><code class="tag-element">details</code></p></li></ul></div><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;details</span> <span class="na">open=</span><span class="s">"open"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;summary&gt;</span>Task summary<span class="nt">&lt;/summary&gt;</span>
  <span class="nt">&lt;dl&gt;</span>
    <span class="nt">&lt;dt&gt;</span>Detail 1<span class="nt">&lt;/dt&gt;</span>
    <span class="nt">&lt;dt&gt;</span>Detail 2<span class="nt">&lt;/dt&gt;</span>
    <span class="nt">&lt;dt&gt;</span>Detail 3<span class="nt">&lt;/dt&gt;</span>
  <span class="nt">&lt;/dl&gt;</span>
<span class="nt">&lt;/details&gt;</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">12</div></div></div><div class="foil"><div class="page"><div class="header"><h1>New HTML elements (continued)</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="itemizedlist"><ul><li><p><code class="tag-element">figure</code> and <code class="tag-element">figcaption</code></p></li></ul></div><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;figure&gt;</span>
  <span class="nt">&lt;p&gt;</span>O for a Muse of fire, that would ascend<span class="nt">&lt;br/&gt;</span>
The brightest heaven of invention,<span class="nt">&lt;br/&gt;</span>
A kingdom for a stage, princes to act<span class="nt">&lt;br/&gt;</span>
And monarchs to behold the swelling scene!<span class="nt">&lt;/p&gt;</span>
 <span class="nt">&lt;figcaption&gt;&lt;cite&gt;</span>Henry V<span class="nt">&lt;/cite&gt;</span> (Prologue).
 William Shakespeare.<span class="nt">&lt;/figcaption&gt;</span>
<span class="nt">&lt;/figure&gt;</span></pre></div></div><div class="foil-notes"><div class="foilinset"><div class="itemizedlist"><ul><li><p><code class="tag-element">figure</code> and <code class="tag-element">figcaption</code></p></li></ul></div><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;figure&gt;</span>
  <span class="nt">&lt;p&gt;</span>O for a Muse of fire, that would ascend<span class="nt">&lt;br/&gt;</span>
The brightest heaven of invention,<span class="nt">&lt;br/&gt;</span>
A kingdom for a stage, princes to act<span class="nt">&lt;br/&gt;</span>
And monarchs to behold the swelling scene!<span class="nt">&lt;/p&gt;</span>
 <span class="nt">&lt;figcaption&gt;&lt;cite&gt;</span>Henry V<span class="nt">&lt;/cite&gt;</span> (Prologue).
 William Shakespeare.<span class="nt">&lt;/figcaption&gt;</span>
<span class="nt">&lt;/figure&gt;</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">13</div></div></div><div class="foil"><div class="page"><div class="header"><h1>New HTML elements (continued)</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="itemizedlist"><ul><li><p><code class="tag-element">video</code> and <code class="tag-element">audio</code></p></li><li><p><code class="tag-element">track</code></p></li></ul></div><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;div&gt;</span>
<span class="nt">&lt;p&gt;&lt;video</span> <span class="na">src=</span><span class="s">"funnyclip.webm"</span> <span class="na">autoplay=</span><span class="s">"autoplay"</span>
          <span class="na">controls=</span><span class="s">"controls"</span> <span class="na">onerror=</span><span class="s">"failed(event)"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;track</span> <span class="na">kind=</span><span class="s">"subtitles"</span> <span class="na">src=</span><span class="s">"funnyclip.en.vtt"</span>
         <span class="na">srclang=</span><span class="s">"en"</span> <span class="na">label=</span><span class="s">"English"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;track</span> <span class="na">kind=</span><span class="s">"subtitles"</span> <span class="na">src=</span><span class="s">"funnyclip.fr.vtt"</span>
         <span class="na">srclang=</span><span class="s">"fr"</span> <span class="na">label=</span><span class="s">"Français"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/video&gt;&lt;/p&gt;</span>
<span class="nt">&lt;p&gt;&lt;a</span> <span class="na">href=</span><span class="s">"funnyclip.webm"</span><span class="nt">&gt;</span>Download the video<span class="nt">&lt;/a&gt;</span>.<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/div&gt;</span></pre></div><p>(Many more options are available)</p></div><div class="foil-notes"><div class="foilinset"><div class="itemizedlist"><ul><li><p><code class="tag-element">video</code> and <code class="tag-element">audio</code></p></li><li><p><code class="tag-element">track</code></p></li></ul></div><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;div&gt;</span>
<span class="nt">&lt;p&gt;&lt;video</span> <span class="na">src=</span><span class="s">"funnyclip.webm"</span> <span class="na">autoplay=</span><span class="s">"autoplay"</span>
          <span class="na">controls=</span><span class="s">"controls"</span> <span class="na">onerror=</span><span class="s">"failed(event)"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;track</span> <span class="na">kind=</span><span class="s">"subtitles"</span> <span class="na">src=</span><span class="s">"funnyclip.en.vtt"</span>
         <span class="na">srclang=</span><span class="s">"en"</span> <span class="na">label=</span><span class="s">"English"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;track</span> <span class="na">kind=</span><span class="s">"subtitles"</span> <span class="na">src=</span><span class="s">"funnyclip.fr.vtt"</span>
         <span class="na">srclang=</span><span class="s">"fr"</span> <span class="na">label=</span><span class="s">"Français"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/video&gt;&lt;/p&gt;</span>
<span class="nt">&lt;p&gt;&lt;a</span> <span class="na">href=</span><span class="s">"funnyclip.webm"</span><span class="nt">&gt;</span>Download the video<span class="nt">&lt;/a&gt;</span>.<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/div&gt;</span></pre></div><p>(Many more options are available)</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">14</div></div></div><div class="foil"><div class="page"><div class="header"><h1>New HTML elements (continued)</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="itemizedlist"><ul><li><p><code class="tag-element">canvas</code></p></li></ul></div><p>A canvas is a resolution-independent bitmap where JavaScript can render graphs, images, animation,
etc.</p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;canvas</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/1999/xhtml"</span>
        <span class="na">id=</span><span class="s">"mycanvas"</span><span class="nt">/&gt;</span></pre></div><canvas id="mycanvas"></canvas><p>The game of Halma<sup>*</sup> Moves: <span id="movecount">0</span></p><p><sup>*</sup> Gleefully stolen from Mark Pilgrim's excellent
<em class="citetitle">Dive Into HTML5</em>.</p></div><div class="foil-notes"><div class="foilinset"><div class="itemizedlist"><ul><li><p><code class="tag-element">canvas</code></p></li></ul></div><p>A canvas is a resolution-independent bitmap where JavaScript can render graphs, images, animation,
etc.</p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;canvas</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/1999/xhtml"</span>
        <span class="na">id=</span><span class="s">"mycanvas"</span><span class="nt">/&gt;</span></pre></div><canvas id="mycanvas"></canvas><p>The game of Halma<sup>*</sup> Moves: <span id="movecount">0</span></p><p><sup>*</sup> Gleefully stolen from Mark Pilgrim's excellent
<em class="citetitle">Dive Into HTML5</em>.</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">15</div></div></div><div class="foil"><div class="page"><div class="header"><h1>New HTML elements (continued)</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="itemizedlist"><ul><li><p><code id="make_progress" class="tag-element">progress</code></p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;progress</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/1999/xhtml"</span>
          <span class="na">id=</span><span class="s">"progress"</span> <span class="na">value=</span><span class="s">"15"</span> <span class="na">max=</span><span class="s">"100"</span><span class="nt">&gt;</span>
<span class="nt">&lt;span&gt;</span>15<span class="nt">&lt;/span&gt;</span>%<span class="nt">&lt;/progress&gt;</span></pre></div><figure id="R.1.3.11.2.1.3" class="informalexample-wrapper"><div class="informalexample"><progress id="progress" value="15" max="100">
<span>15</span>%</progress></div></figure></li><li><p><code class="tag-element">meter</code></p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;meter</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/1999/xhtml"</span>
       <span class="na">min=</span><span class="s">"0"</span> <span class="na">max=</span><span class="s">"18"</span> <span class="na">value=</span><span class="s">"15"</span><span class="nt">&gt;</span>Size 15<span class="nt">&lt;/meter&gt;</span></pre></div><figure id="R.1.3.11.2.2.3" class="informalexample-wrapper"><div class="informalexample"><meter min="0" max="18" value="15">Size 15</meter></div></figure></li></ul></div></div><div class="foil-notes"><div class="foilinset"><div class="itemizedlist"><ul><li><p><code id="make_progress" class="tag-element">progress</code></p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;progress</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/1999/xhtml"</span>
          <span class="na">id=</span><span class="s">"progress"</span> <span class="na">value=</span><span class="s">"15"</span> <span class="na">max=</span><span class="s">"100"</span><span class="nt">&gt;</span>
<span class="nt">&lt;span&gt;</span>15<span class="nt">&lt;/span&gt;</span>%<span class="nt">&lt;/progress&gt;</span></pre></div><figure id="R.1.3.11.2.1.3" class="informalexample-wrapper"><div class="informalexample"><progress id="progress" value="15" max="100">
<span>15</span>%</progress></div></figure></li><li><p><code class="tag-element">meter</code></p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;meter</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/1999/xhtml"</span>
       <span class="na">min=</span><span class="s">"0"</span> <span class="na">max=</span><span class="s">"18"</span> <span class="na">value=</span><span class="s">"15"</span><span class="nt">&gt;</span>Size 15<span class="nt">&lt;/meter&gt;</span></pre></div><figure id="R.1.3.11.2.2.3" class="informalexample-wrapper"><div class="informalexample"><meter min="0" max="18" value="15">Size 15</meter></div></figure></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">16</div></div></div><div class="foil"><div class="page"><div class="header"><h1>New input types</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>New <span class="att">type</span> values for <code class="tag-element">input</code> tags in forms:</p><figure id="R.1.3.12.3" class="informaltable-wrapper"><div class="informaltable"><table border="0" style="border-collapse: collapse;"><colgroup><col class="tcol1" width="25%" /><col class="tcol2" width="25%" /><col class="tcol3" width="25%" /><col class="tcol4" width="25%" /></colgroup><tbody><tr><td valign="top">
<div class="itemizedlist"><ul><li><p><span class="attval">tel</span></p></li><li><p><span class="attval">search</span></p></li><li><p><span class="attval">datetime</span></p></li><li><p><span class="attval">datetime-local</span></p></li></ul></div>
</td><td valign="top">
<div class="itemizedlist"><ul><li><p><span class="attval">date</span></p></li><li><p><span class="attval">month</span></p></li><li><p><span class="attval">week</span></p></li></ul></div>
</td><td valign="top">
<div class="itemizedlist"><ul><li><p><span class="attval">number</span></p></li><li><p><span class="attval">range</span></p></li><li><p><span class="attval">email</span></p></li></ul></div>
</td><td valign="top">
<div class="itemizedlist"><ul><li><p><span class="attval">url</span></p></li><li><p><span class="attval">time</span></p></li><li><p><span class="attval">color</span></p></li></ul></div>
</td></tr></tbody></table></div></figure><p>Also:</p><div class="itemizedlist"><ul><li><p><span class="att">autofocus</span> on <code class="tag-element">input</code></p></li><li><p><span class="att">placeholder</span> on <code class="tag-element">input</code> and <code class="tag-element">textarea</code>:
<input type="text" size="30" placeholder="Placeholder text" />
</p></li><li><p><span class="att">required</span> on <code class="tag-element">input</code></p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><p>New <span class="att">type</span> values for <code class="tag-element">input</code> tags in forms:</p><figure id="R.1.3.12.3" class="informaltable-wrapper"><div class="informaltable"><table border="0" style="border-collapse: collapse;"><colgroup><col class="tcol1" width="25%" /><col class="tcol2" width="25%" /><col class="tcol3" width="25%" /><col class="tcol4" width="25%" /></colgroup><tbody><tr><td valign="top">
<div class="itemizedlist"><ul><li><p><span class="attval">tel</span></p></li><li><p><span class="attval">search</span></p></li><li><p><span class="attval">datetime</span></p></li><li><p><span class="attval">datetime-local</span></p></li></ul></div>
</td><td valign="top">
<div class="itemizedlist"><ul><li><p><span class="attval">date</span></p></li><li><p><span class="attval">month</span></p></li><li><p><span class="attval">week</span></p></li></ul></div>
</td><td valign="top">
<div class="itemizedlist"><ul><li><p><span class="attval">number</span></p></li><li><p><span class="attval">range</span></p></li><li><p><span class="attval">email</span></p></li></ul></div>
</td><td valign="top">
<div class="itemizedlist"><ul><li><p><span class="attval">url</span></p></li><li><p><span class="attval">time</span></p></li><li><p><span class="attval">color</span></p></li></ul></div>
</td></tr></tbody></table></div></figure><p>Also:</p><div class="itemizedlist"><ul><li><p><span class="att">autofocus</span> on <code class="tag-element">input</code></p></li><li><p><span class="att">placeholder</span> on <code class="tag-element">input</code> and <code class="tag-element">textarea</code>:
<input type="text" size="30" placeholder="Placeholder text" />
</p></li><li><p><span class="att">required</span> on <code class="tag-element">input</code></p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">17</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Removed from HTML</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="itemizedlist"><ul><li><p><code class="tag-element">basefont</code>, <code class="tag-element">big</code>, <code class="tag-element">center</code>, <code class="tag-element">font</code>,
<code class="tag-element">strike</code>, <code class="tag-element">tt</code></p><p>Use CSS instead…</p></li><li><p><code class="tag-element">frame</code>, <code class="tag-element">frameset</code>, <code class="tag-element">noframes</code></p><p>Use an <code class="tag-element">iframe</code> and CSS or compose the pages on the server…</p></li><li><p><code class="tag-element">acronym</code>, <code class="tag-element">applet</code>, <code class="tag-element">isindex</code>, <code class="tag-element">dir</code>, … etc.</p><p>Use <code class="tag-element">abbr</code>, <code class="tag-element">embed</code> or <code class="tag-element">object</code>, <code class="tag-element">form</code>, <code class="tag-element">ul</code>, … etc.</p></li></ul></div><p>Plus <em>lots</em> of presentational attributes.</p></div><div class="foil-notes"><div class="foilinset"><div class="itemizedlist"><ul><li><p><code class="tag-element">basefont</code>, <code class="tag-element">big</code>, <code class="tag-element">center</code>, <code class="tag-element">font</code>,
<code class="tag-element">strike</code>, <code class="tag-element">tt</code></p><p>Use CSS instead…</p></li><li><p><code class="tag-element">frame</code>, <code class="tag-element">frameset</code>, <code class="tag-element">noframes</code></p><p>Use an <code class="tag-element">iframe</code> and CSS or compose the pages on the server…</p></li><li><p><code class="tag-element">acronym</code>, <code class="tag-element">applet</code>, <code class="tag-element">isindex</code>, <code class="tag-element">dir</code>, … etc.</p><p>Use <code class="tag-element">abbr</code>, <code class="tag-element">embed</code> or <code class="tag-element">object</code>, <code class="tag-element">form</code>, <code class="tag-element">ul</code>, … etc.</p></li></ul></div><p>Plus <em>lots</em> of presentational attributes.</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">18</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Interoperability</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>What does all this new markup actually do?</p><p>When were you born? <input type="date" size="16" /></p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;p</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/1999/xhtml"</span><span class="nt">&gt;</span>When
were you born?
<span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"birthday"</span> <span class="na">type=</span><span class="s">"date"</span> <span class="na">size=</span><span class="s">"16"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/p&gt;</span></pre></div><p>Well, that depends.</p><div class="variablelist"><dl><dt><span class="term">Firefox 14.0.1</span></dt><dd><div id="R.1.3.14.6.1.2.1" class="mediaobject"><img src="images/html_firefox.png" /></div><p>(Nothing)</p></dd><dt><span class="term">Chrome 21.0.1180.82</span></dt><dd><div id="R.1.3.14.6.2.2.1" class="mediaobject"><img src="images/html_chrome.png" /></div><p>(An editable field with a pull-down calendar)</p></dd><dt><span class="term">Opera 11.50</span></dt><dd><div id="R.1.3.14.6.3.2.1" class="mediaobject"><img src="images/html_opera.png" /></div><p>(A full calendar widget)</p></dd></dl></div></div><div class="foil-notes"><div class="foilinset"><p>What does all this new markup actually do?</p><p>When were you born? <input type="date" size="16" /></p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;p</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/1999/xhtml"</span><span class="nt">&gt;</span>When
were you born?
<span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"birthday"</span> <span class="na">type=</span><span class="s">"date"</span> <span class="na">size=</span><span class="s">"16"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/p&gt;</span></pre></div><p>Well, that depends.</p><div class="variablelist"><dl><dt><span class="term">Firefox 14.0.1</span></dt><dd><div id="R.1.3.14.6.1.2.1" class="mediaobject"><img src="images/html_firefox.png" /></div><p>(Nothing)</p></dd><dt><span class="term">Chrome 21.0.1180.82</span></dt><dd><div id="R.1.3.14.6.2.2.1" class="mediaobject"><img src="images/html_chrome.png" /></div><p>(An editable field with a pull-down calendar)</p></dd><dt><span class="term">Opera 11.50</span></dt><dd><div id="R.1.3.14.6.3.2.1" class="mediaobject"><img src="images/html_opera.png" /></div><p>(A full calendar widget)</p></dd></dl></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">19</div></div></div><div class="foil"><div class="page"><div class="header"><h1>The semantics question</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="itemizedlist"><ul><li><p>Web pages aren't just human-readable, they're also machine readable</p></li><li><p>Expressing semantics in a <em>machine-understandable</em> way is
harder (more markup)</p></li><li><p>But the result (can be) clearer because the semantics are more explicit</p></li><li><p>If you're starting from rich XML sources, many of the semantics may already
be manifest or implied</p></li><li><p>The trick is to encode them for web pages</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><div class="itemizedlist"><ul><li><p>Web pages aren't just human-readable, they're also machine readable</p></li><li><p>Expressing semantics in a <em>machine-understandable</em> way is
harder (more markup)</p></li><li><p>But the result (can be) clearer because the semantics are more explicit</p></li><li><p>If you're starting from rich XML sources, many of the semantics may already
be manifest or implied</p></li><li><p>The trick is to encode them for web pages</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">20</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Semantic quest</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Consider this example: you're looking for a kitten picture to
put on your blog. You find this:</p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"photo1.jpg"</span> <span class="na">alt=</span><span class="s">"An example photo"</span> <span class="nt">/&gt;</span></pre></div><p>What might you need to know?</p><div class="itemizedlist"><ul><li><p>Who took it?</p></li><li><p>Is it licensed for reuse?</p></li></ul></div><p>After all, the ones you can't reuse aren't very useful for your
current task.</p><p>Ideally, if you could these questions machine understandable,
you could filter on them.
</p></div><div class="foil-notes"><div class="foilinset"><p>Consider this example: you're looking for a kitten picture to
put on your blog. You find this:</p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"photo1.jpg"</span> <span class="na">alt=</span><span class="s">"An example photo"</span> <span class="nt">/&gt;</span></pre></div><p>What might you need to know?</p><div class="itemizedlist"><ul><li><p>Who took it?</p></li><li><p>Is it licensed for reuse?</p></li></ul></div><p>After all, the ones you can't reuse aren't very useful for your
current task.</p><p>Ideally, if you could these questions machine understandable,
you could filter on them.
</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">21</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Semantic examples</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>RDFa:</p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"photo1.jpg"</span>
  <span class="na">rel=</span><span class="s">"license"</span>
  <span class="na">resource=</span><span class="s">"http://creativecommons.org/licenses/by/2.0/"</span>
  <span class="na">property=</span><span class="s">"dc:creator"</span> <span class="na">content=</span><span class="s">"Mark Birbeck"</span> <span class="nt">/&gt;</span></pre></div><p>HTML5/Microdata</p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;span</span> <span class="na">itemscope=</span><span class="s">"itemscope"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;img</span> <span class="na">itemprop=</span><span class="s">"about"</span> <span class="na">src=</span><span class="s">"photo1.jpg"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">itemprop=</span><span class="s">"http://www.w3.org/1999/xhtml/vocab#license"</span> 
        <span class="na">href=</span><span class="s">"http://creativecommons.org/licenses/by/2.0/"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">itemprop=</span><span class="s">"http://purl.org/dc/elements/1.1/creator"</span> 
        <span class="na">content=</span><span class="s">"Mark Birbeck"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/span&gt;</span></pre></div><p>This is a hot topic, I don't think the dust has fully settled yet.</p></div><div class="foil-notes"><div class="foilinset"><p>RDFa:</p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"photo1.jpg"</span>
  <span class="na">rel=</span><span class="s">"license"</span>
  <span class="na">resource=</span><span class="s">"http://creativecommons.org/licenses/by/2.0/"</span>
  <span class="na">property=</span><span class="s">"dc:creator"</span> <span class="na">content=</span><span class="s">"Mark Birbeck"</span> <span class="nt">/&gt;</span></pre></div><p>HTML5/Microdata</p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;span</span> <span class="na">itemscope=</span><span class="s">"itemscope"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;img</span> <span class="na">itemprop=</span><span class="s">"about"</span> <span class="na">src=</span><span class="s">"photo1.jpg"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">itemprop=</span><span class="s">"http://www.w3.org/1999/xhtml/vocab#license"</span> 
        <span class="na">href=</span><span class="s">"http://creativecommons.org/licenses/by/2.0/"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">itemprop=</span><span class="s">"http://purl.org/dc/elements/1.1/creator"</span> 
        <span class="na">content=</span><span class="s">"Mark Birbeck"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/span&gt;</span></pre></div><p>This is a hot topic, I don't think the dust has fully settled yet.</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">22</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Lights, camera, action!</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>HTML5 vs. Flash vs. Silverlight</p><div class="itemizedlist"><ul><li><p>The <code class="tag-element">canvas</code> element and improved audio/video controls certainly
make HTML+JavaScript a plausible competitor for Flash/Silverlight</p></li><li><p>Flash is not supported by the iOS platform</p></li><li><p>Flash and Silverlight are proprietary technologies.</p></li><li><p>All three techniques present accessibility challenges</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><p>HTML5 vs. Flash vs. Silverlight</p><div class="itemizedlist"><ul><li><p>The <code class="tag-element">canvas</code> element and improved audio/video controls certainly
make HTML+JavaScript a plausible competitor for Flash/Silverlight</p></li><li><p>Flash is not supported by the iOS platform</p></li><li><p>Flash and Silverlight are proprietary technologies.</p></li><li><p>All three techniques present accessibility challenges</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">23</div></div></div><div class="foil titlefoil foilgroup"><div class="page"><div class="header"><h1>Q&amp;A</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Thanks!</p></div><div class="foil-notes"><div class="foilinset"><p>Thanks!</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">24</div></div></div><div class="foil titlefoil foilgroup"><div class="page"><div class="header"><h1>Modelling Plays for our app</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">25</div></div></div><div class="foil"><div class="page"><div class="header"><h1>The simplest possible Play &amp; Act objects</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>After looking at it, the simplest useful data model probably looks like this:</p><div class="itemizedlist"><ul><li><p>The play</p><div class="itemizedlist"><ul><li><p>The title</p></li><li><p>The author</p></li></ul></div></li><li><p>An act</p><div class="itemizedlist"><ul><li><p>Act number</p></li><li><p>Title</p></li><li><p>Act text</p></li></ul></div></li></ul></div></div><div class="foil-notes"><div class="foilinset"><p>After looking at it, the simplest useful data model probably looks like this:</p><div class="itemizedlist"><ul><li><p>The play</p><div class="itemizedlist"><ul><li><p>The title</p></li><li><p>The author</p></li></ul></div></li><li><p>An act</p><div class="itemizedlist"><ul><li><p>Act number</p></li><li><p>Title</p></li><li><p>Act text</p></li></ul></div></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">26</div></div></div><div class="foil"><div class="page"><div class="header"><h1>As Ruby</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="programlisting highlight"><pre class="ruby"><span class="k">class</span> <span class="nc">Play</span>
  <span class="kp">attr_reader</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:author</span><span class="p">,</span> <span class="ss">:acts</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">author</span><span class="p">,</span> <span class="n">acts</span><span class="p">)</span>
    <span class="vi">@title</span> <span class="o">=</span> <span class="n">title</span>
    <span class="vi">@author</span> <span class="o">=</span> <span class="n">author</span>
    <span class="vi">@acts</span> <span class="o">=</span> <span class="n">acts</span>
  <span class="k">end</span>
<span class="k">end</span>
<span class="k">class</span> <span class="nc">Act</span> <span class="o">&lt;</span> <span class="no">Struct</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:number</span><span class="p">,</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:text</span><span class="p">)</span>
<span class="k">end</span>

<span class="n">act_1</span> <span class="o">=</span> <span class="no">Act</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'Act One'</span><span class="p">,</span> <span class="s1">'Act text'</span><span class="p">)</span>
<span class="n">act_2</span> <span class="o">=</span> <span class="no">Act</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'Act Two'</span><span class="p">,</span> <span class="s1">'Act text'</span><span class="p">)</span>
<span class="n">play</span> <span class="o">=</span> <span class="no">Play</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">'Caesar'</span><span class="p">,</span> <span class="s1">'Will'</span><span class="p">,</span> <span class="o">[</span><span class="n">act_1</span><span class="p">,</span> <span class="n">act_2</span><span class="o">]</span><span class="p">)</span></pre></div><p><code class="code">lib/play.rb</code></p></div><div class="foil-notes"><div class="foilinset"><div class="programlisting highlight"><pre class="ruby"><span class="k">class</span> <span class="nc">Play</span>
  <span class="kp">attr_reader</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:author</span><span class="p">,</span> <span class="ss">:acts</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">author</span><span class="p">,</span> <span class="n">acts</span><span class="p">)</span>
    <span class="vi">@title</span> <span class="o">=</span> <span class="n">title</span>
    <span class="vi">@author</span> <span class="o">=</span> <span class="n">author</span>
    <span class="vi">@acts</span> <span class="o">=</span> <span class="n">acts</span>
  <span class="k">end</span>
<span class="k">end</span>
<span class="k">class</span> <span class="nc">Act</span> <span class="o">&lt;</span> <span class="no">Struct</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:number</span><span class="p">,</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:text</span><span class="p">)</span>
<span class="k">end</span>

<span class="n">act_1</span> <span class="o">=</span> <span class="no">Act</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'Act One'</span><span class="p">,</span> <span class="s1">'Act text'</span><span class="p">)</span>
<span class="n">act_2</span> <span class="o">=</span> <span class="no">Act</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'Act Two'</span><span class="p">,</span> <span class="s1">'Act text'</span><span class="p">)</span>
<span class="n">play</span> <span class="o">=</span> <span class="no">Play</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">'Caesar'</span><span class="p">,</span> <span class="s1">'Will'</span><span class="p">,</span> <span class="o">[</span><span class="n">act_1</span><span class="p">,</span> <span class="n">act_2</span><span class="o">]</span><span class="p">)</span></pre></div><p><code class="code">lib/play.rb</code></p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">27</div></div></div><div class="foil titlefoil foilgroup"><div class="page"><div class="header"><h1>Extracting data from the Play XML with Nokogiri</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">28</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Extracting the Play and Act titles</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Nokogiri provides with a Ruby API around the GNOME libxml2 library.</p><p>The Ruby API is nice and easy to use:</p><div class="programlisting highlight"><pre class="ruby"><span class="nb">require</span> <span class="s1">'nokogiri'</span>

<span class="n">xml_file</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">'/path/to/play.tei'</span><span class="p">)</span>
<span class="n">document</span> <span class="o">=</span> <span class="no">Nokogiri</span><span class="o">::</span><span class="no">XML</span><span class="p">(</span><span class="n">xml_file</span><span class="p">)</span>
<span class="n">selector</span> <span class="o">=</span> <span class="s1">'teiHeader &gt; fileDesc &gt; titleStmt &gt; title'</span>
<span class="n">document</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>

<span class="n">selector</span> <span class="o">=</span> <span class="s1">'/z:TEI/z:teiHeader/z:fileDesc/z:titleStmt/z:title'</span>
<span class="n">ns</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'z'</span> <span class="o">=&gt;</span> <span class="s1">'http://www.tei-c.org/ns/1.0'</span><span class="p">}</span>
<span class="n">document</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span><span class="n">selector</span><span class="p">,</span> <span class="n">ns</span><span class="p">)</span><span class="o">.</span><span class="n">text</span></pre></div></div><div class="foil-notes"><div class="foilinset"><p>Nokogiri provides with a Ruby API around the GNOME libxml2 library.</p><p>The Ruby API is nice and easy to use:</p><div class="programlisting highlight"><pre class="ruby"><span class="nb">require</span> <span class="s1">'nokogiri'</span>

<span class="n">xml_file</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">'/path/to/play.tei'</span><span class="p">)</span>
<span class="n">document</span> <span class="o">=</span> <span class="no">Nokogiri</span><span class="o">::</span><span class="no">XML</span><span class="p">(</span><span class="n">xml_file</span><span class="p">)</span>
<span class="n">selector</span> <span class="o">=</span> <span class="s1">'teiHeader &gt; fileDesc &gt; titleStmt &gt; title'</span>
<span class="n">document</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>

<span class="n">selector</span> <span class="o">=</span> <span class="s1">'/z:TEI/z:teiHeader/z:fileDesc/z:titleStmt/z:title'</span>
<span class="n">ns</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'z'</span> <span class="o">=&gt;</span> <span class="s1">'http://www.tei-c.org/ns/1.0'</span><span class="p">}</span>
<span class="n">document</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span><span class="n">selector</span><span class="p">,</span> <span class="n">ns</span><span class="p">)</span><span class="o">.</span><span class="n">text</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">29</div></div></div><div class="foil"><div class="page"><div class="header"><h1>The Play object</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Let's revisit the Play class and actually extract the data</p><div class="programlisting highlight"><pre class="ruby"><span class="nb">require</span> <span class="s1">'nokogiri'</span>

<span class="k">class</span> <span class="nc">Play</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="vi">@path</span> <span class="o">=</span> <span class="n">path</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">document</span>
    <span class="vi">@document</span> <span class="o">||=</span> <span class="no">Nokogiri</span><span class="o">::</span><span class="no">XML</span><span class="p">(</span><span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="vi">@path</span><span class="p">))</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">title</span>
    <span class="n">selector</span> <span class="o">=</span> <span class="s1">'teiHeader &gt; fileDesc &gt; titleStmt &gt; title'</span>
    <span class="vi">@title</span> <span class="o">||=</span> <span class="n">document</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
  <span class="k">end</span>
<span class="k">end</span></pre></div><p><code class="code">lib/play.rb</code></p></div><div class="foil-notes"><div class="foilinset"><p>Let's revisit the Play class and actually extract the data</p><div class="programlisting highlight"><pre class="ruby"><span class="nb">require</span> <span class="s1">'nokogiri'</span>

<span class="k">class</span> <span class="nc">Play</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="vi">@path</span> <span class="o">=</span> <span class="n">path</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">document</span>
    <span class="vi">@document</span> <span class="o">||=</span> <span class="no">Nokogiri</span><span class="o">::</span><span class="no">XML</span><span class="p">(</span><span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="vi">@path</span><span class="p">))</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">title</span>
    <span class="n">selector</span> <span class="o">=</span> <span class="s1">'teiHeader &gt; fileDesc &gt; titleStmt &gt; title'</span>
    <span class="vi">@title</span> <span class="o">||=</span> <span class="n">document</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
  <span class="k">end</span>
<span class="k">end</span></pre></div><p><code class="code">lib/play.rb</code></p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">30</div></div></div><div class="foil titlefoil foilgroup"><div class="page"><div class="header"><h1>Generating HTML for an Act using XSLT</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">31</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Running an XSLT</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Nokogiri is also a wrapper around GNOME libxslt1.1.</p><div class="programlisting highlight"><pre class="ruby"><span class="nb">require</span> <span class="s1">'nokogiri'</span>
<span class="n">document</span> <span class="o">=</span> <span class="no">Nokogiri</span><span class="o">::</span><span class="no">XML</span><span class="p">(</span><span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">'/path/to/play.tei'</span><span class="p">))</span>
<span class="n">xslt</span> <span class="o">=</span> <span class="no">Nokogiri</span><span class="o">::</span><span class="no">XSLT</span><span class="p">(</span><span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">'/path/to/your.xsl'</span><span class="p">))</span>
<span class="n">params</span> <span class="o">=</span> <span class="no">Nokogiri</span><span class="o">::</span><span class="no">XSLT</span><span class="o">.</span><span class="n">quote_params</span><span class="p">(</span><span class="o">[</span><span class="s1">'act_number'</span><span class="p">,</span> <span class="s1">'2'</span><span class="o">]</span><span class="p">)</span>
<span class="n">xslt</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span></pre></div></div><div class="foil-notes"><div class="foilinset"><p>Nokogiri is also a wrapper around GNOME libxslt1.1.</p><div class="programlisting highlight"><pre class="ruby"><span class="nb">require</span> <span class="s1">'nokogiri'</span>
<span class="n">document</span> <span class="o">=</span> <span class="no">Nokogiri</span><span class="o">::</span><span class="no">XML</span><span class="p">(</span><span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">'/path/to/play.tei'</span><span class="p">))</span>
<span class="n">xslt</span> <span class="o">=</span> <span class="no">Nokogiri</span><span class="o">::</span><span class="no">XSLT</span><span class="p">(</span><span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">'/path/to/your.xsl'</span><span class="p">))</span>
<span class="n">params</span> <span class="o">=</span> <span class="no">Nokogiri</span><span class="o">::</span><span class="no">XSLT</span><span class="o">.</span><span class="n">quote_params</span><span class="p">(</span><span class="o">[</span><span class="s1">'act_number'</span><span class="p">,</span> <span class="s1">'2'</span><span class="o">]</span><span class="p">)</span>
<span class="n">xslt</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">32</div></div></div><div class="foil"><div class="page"><div class="header"><h1>The Act object</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="programlisting highlight"><pre class="ruby"><span class="nb">require</span> <span class="s1">'nokogiri'</span>
<span class="k">class</span> <span class="nc">Act</span>
  <span class="kp">attr_reader</span> <span class="ss">:number</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">play</span><span class="p">,</span> <span class="n">act_number</span><span class="p">)</span>
    <span class="vi">@play</span> <span class="o">=</span> <span class="n">play</span>
    <span class="vi">@number</span> <span class="o">=</span> <span class="n">act_number</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">title</span>
    <span class="n">sel</span> <span class="o">=</span> <span class="s2">"div:eq(</span><span class="si">#{</span><span class="n">number</span><span class="si">}</span><span class="s2">) &gt; head"</span>
    <span class="vi">@title</span> <span class="o">||=</span> <span class="vi">@play</span><span class="o">.</span><span class="n">document</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="n">sel</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">xslt</span>
    <span class="nb">p</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">expand_path</span><span class="p">(</span><span class="s1">'../../xsl/tei2html.xsl'</span><span class="p">,</span> 
                          <span class="bp">__FILE__</span><span class="p">)</span>
    <span class="vi">@xslt</span> <span class="o">||=</span> <span class="no">Nokogiri</span><span class="o">::</span><span class="no">XSLT</span><span class="p">(</span><span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="nb">p</span><span class="p">))</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">html</span>
    <span class="n">xslt</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="vi">@play</span><span class="o">.</span><span class="n">document</span><span class="p">,</span>
      <span class="no">Nokogiri</span><span class="o">::</span><span class="no">XSLT</span><span class="o">.</span><span class="n">quote_params</span><span class="p">(</span><span class="o">[</span><span class="s1">'act_number'</span><span class="p">,</span> 
                                  <span class="n">number</span><span class="o">.</span><span class="n">to_s</span><span class="o">]</span><span class="p">))</span>
  <span class="k">end</span>
<span class="k">end</span></pre></div><p><code class="code">lib/act.rb</code></p></div><div class="foil-notes"><div class="foilinset"><div class="programlisting highlight"><pre class="ruby"><span class="nb">require</span> <span class="s1">'nokogiri'</span>
<span class="k">class</span> <span class="nc">Act</span>
  <span class="kp">attr_reader</span> <span class="ss">:number</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">play</span><span class="p">,</span> <span class="n">act_number</span><span class="p">)</span>
    <span class="vi">@play</span> <span class="o">=</span> <span class="n">play</span>
    <span class="vi">@number</span> <span class="o">=</span> <span class="n">act_number</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">title</span>
    <span class="n">sel</span> <span class="o">=</span> <span class="s2">"div:eq(</span><span class="si">#{</span><span class="n">number</span><span class="si">}</span><span class="s2">) &gt; head"</span>
    <span class="vi">@title</span> <span class="o">||=</span> <span class="vi">@play</span><span class="o">.</span><span class="n">document</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="n">sel</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">xslt</span>
    <span class="nb">p</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">expand_path</span><span class="p">(</span><span class="s1">'../../xsl/tei2html.xsl'</span><span class="p">,</span> 
                          <span class="bp">__FILE__</span><span class="p">)</span>
    <span class="vi">@xslt</span> <span class="o">||=</span> <span class="no">Nokogiri</span><span class="o">::</span><span class="no">XSLT</span><span class="p">(</span><span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="nb">p</span><span class="p">))</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">html</span>
    <span class="n">xslt</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="vi">@play</span><span class="o">.</span><span class="n">document</span><span class="p">,</span>
      <span class="no">Nokogiri</span><span class="o">::</span><span class="no">XSLT</span><span class="o">.</span><span class="n">quote_params</span><span class="p">(</span><span class="o">[</span><span class="s1">'act_number'</span><span class="p">,</span> 
                                  <span class="n">number</span><span class="o">.</span><span class="n">to_s</span><span class="o">]</span><span class="p">))</span>
  <span class="k">end</span>
<span class="k">end</span></pre></div><p><code class="code">lib/act.rb</code></p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">33</div></div></div><div class="foil titlefoil foilgroup"><div class="page"><div class="header"><h1>Wiring everything together</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">34</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Generating a page listing Plays</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>What do we need?</p><div class="itemizedlist"><ul><li><p>HTML template</p></li><li><p>Ability to find all the Plays</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><p>What do we need?</p><div class="itemizedlist"><ul><li><p>HTML template</p></li><li><p>Ability to find all the Plays</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">35</div></div></div><div class="foil"><div class="page"><div class="header"><h1>HTML template</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="programlisting highlight"><pre class="erb"><span class="x">&lt;h1&gt;</span><span class="cp">&lt;%=</span> <span class="vi">@title</span> <span class="cp">%&gt;</span><span class="x">&lt;/h1&gt;</span>
<span class="x">&lt;ul&gt;</span>
<span class="cp">&lt;%</span> <span class="vi">@plays</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">play</span><span class="o">|</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="x">  &lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">play</span><span class="o">.</span><span class="n">title</span> <span class="cp">%&gt;</span><span class="x">&lt;/li&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="x">&lt;/ul&gt;</span></pre></div><p><code class="code">views/index.erb</code></p></div><div class="foil-notes"><div class="foilinset"><div class="programlisting highlight"><pre class="erb"><span class="x">&lt;h1&gt;</span><span class="cp">&lt;%=</span> <span class="vi">@title</span> <span class="cp">%&gt;</span><span class="x">&lt;/h1&gt;</span>
<span class="x">&lt;ul&gt;</span>
<span class="cp">&lt;%</span> <span class="vi">@plays</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">play</span><span class="o">|</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="x">  &lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">play</span><span class="o">.</span><span class="n">title</span> <span class="cp">%&gt;</span><span class="x">&lt;/li&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="x">&lt;/ul&gt;</span></pre></div><p><code class="code">views/index.erb</code></p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">36</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Finding all the plays</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="programlisting highlight"><pre class="ruby"><span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="vi">@title</span> <span class="o">=</span> <span class="s2">"Plays of William Shakespeare"</span>
  <span class="vi">@plays</span> <span class="o">=</span> <span class="no">Play</span><span class="o">.</span><span class="n">all</span>
  <span class="n">erb</span> <span class="ss">:index</span>
<span class="k">end</span></pre></div><p><code class="code">lib/annotated_shakespeare.rb</code></p><div class="programlisting highlight"><pre class="ruby"><span class="k">class</span> <span class="nc">Play</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="vi">@path</span> <span class="o">=</span> <span class="n">path</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">all</span>
    <span class="n">path</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">expand_path</span><span class="p">(</span><span class="s1">'../../plays'</span><span class="p">,</span> <span class="bp">__FILE__</span><span class="p">)</span>
    <span class="no">Dir</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">path</span><span class="si">}</span><span class="s2">/*.tei"</span><span class="p">)</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="o">|</span><span class="n">path</span><span class="o">|</span> <span class="kp">new</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span></pre></div><p><code class="code">lib/play.rb</code></p></div><div class="foil-notes"><div class="foilinset"><div class="programlisting highlight"><pre class="ruby"><span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="vi">@title</span> <span class="o">=</span> <span class="s2">"Plays of William Shakespeare"</span>
  <span class="vi">@plays</span> <span class="o">=</span> <span class="no">Play</span><span class="o">.</span><span class="n">all</span>
  <span class="n">erb</span> <span class="ss">:index</span>
<span class="k">end</span></pre></div><p><code class="code">lib/annotated_shakespeare.rb</code></p><div class="programlisting highlight"><pre class="ruby"><span class="k">class</span> <span class="nc">Play</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="vi">@path</span> <span class="o">=</span> <span class="n">path</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">all</span>
    <span class="n">path</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">expand_path</span><span class="p">(</span><span class="s1">'../../plays'</span><span class="p">,</span> <span class="bp">__FILE__</span><span class="p">)</span>
    <span class="no">Dir</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">path</span><span class="si">}</span><span class="s2">/*.tei"</span><span class="p">)</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="o">|</span><span class="n">path</span><span class="o">|</span> <span class="kp">new</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span></pre></div><p><code class="code">lib/play.rb</code></p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">37</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Listing a Play's Acts</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>What do we need?</p><div class="itemizedlist"><ul><li><p>Ability to generate a unique URL slug for a Play</p></li><li><p>HTML template</p></li><li><p>Ability to get a Play object</p></li><li><p>Ability to work out what Acts a Play has</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><p>What do we need?</p><div class="itemizedlist"><ul><li><p>Ability to generate a unique URL slug for a Play</p></li><li><p>HTML template</p></li><li><p>Ability to get a Play object</p></li><li><p>Ability to work out what Acts a Play has</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">38</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Generating a unique URL slug for a Play</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="programlisting highlight"><pre class="ruby"><span class="k">class</span> <span class="nc">Play</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="vi">@path</span> <span class="o">=</span> <span class="n">path</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">slug</span>
    <span class="vi">@slug</span> <span class="o">||=</span> <span class="no">File</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="vi">@path</span><span class="p">,</span> <span class="s1">'.tei'</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span></pre></div><p><code class="code">lib/play.rb</code></p></div><div class="foil-notes"><div class="foilinset"><div class="programlisting highlight"><pre class="ruby"><span class="k">class</span> <span class="nc">Play</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="vi">@path</span> <span class="o">=</span> <span class="n">path</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">slug</span>
    <span class="vi">@slug</span> <span class="o">||=</span> <span class="no">File</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="vi">@path</span><span class="p">,</span> <span class="s1">'.tei'</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span></pre></div><p><code class="code">lib/play.rb</code></p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">39</div></div></div><div class="foil"><div class="page"><div class="header"><h1>HTML template</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="programlisting highlight"><pre class="erb"><span class="x">&lt;h1&gt;</span><span class="cp">&lt;%=</span> <span class="vi">@play</span><span class="o">.</span><span class="n">title</span> <span class="cp">%&gt;</span><span class="x">&lt;/h1&gt;</span>
<span class="x">&lt;ol&gt;</span>
<span class="cp">&lt;%</span> <span class="vi">@play</span><span class="o">.</span><span class="n">acts</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">act</span><span class="o">|</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="x">&lt;li&gt;</span>
<span class="x">&lt;a href="</span><span class="cp">&lt;%=</span> <span class="n">url</span><span class="p">(</span><span class="s2">"/plays/</span><span class="si">#{</span><span class="vi">@play</span><span class="o">.</span><span class="n">slug</span><span class="si">}</span><span class="s2">/act/</span><span class="si">#{</span><span class="n">act</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="x">"&gt;</span>
<span class="x">  </span><span class="cp">&lt;%=</span> <span class="n">act</span><span class="o">.</span><span class="n">title</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="x">&lt;/a&gt;</span>
<span class="x">&lt;/li&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="x">&lt;/ol&gt;</span></pre></div><p><code class="code">views/play_index.erb</code></p></div><div class="foil-notes"><div class="foilinset"><div class="programlisting highlight"><pre class="erb"><span class="x">&lt;h1&gt;</span><span class="cp">&lt;%=</span> <span class="vi">@play</span><span class="o">.</span><span class="n">title</span> <span class="cp">%&gt;</span><span class="x">&lt;/h1&gt;</span>
<span class="x">&lt;ol&gt;</span>
<span class="cp">&lt;%</span> <span class="vi">@play</span><span class="o">.</span><span class="n">acts</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">act</span><span class="o">|</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="x">&lt;li&gt;</span>
<span class="x">&lt;a href="</span><span class="cp">&lt;%=</span> <span class="n">url</span><span class="p">(</span><span class="s2">"/plays/</span><span class="si">#{</span><span class="vi">@play</span><span class="o">.</span><span class="n">slug</span><span class="si">}</span><span class="s2">/act/</span><span class="si">#{</span><span class="n">act</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="x">"&gt;</span>
<span class="x">  </span><span class="cp">&lt;%=</span> <span class="n">act</span><span class="o">.</span><span class="n">title</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="x">&lt;/a&gt;</span>
<span class="x">&lt;/li&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="x">&lt;/ol&gt;</span></pre></div><p><code class="code">views/play_index.erb</code></p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">40</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Getting a Play</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="programlisting highlight"><pre class="ruby"><span class="k">class</span> <span class="nc">Play</span>
  <span class="k">class</span> <span class="nc">NotFoundError</span> <span class="o">&lt;</span> <span class="no">StandardError</span><span class="p">;</span> <span class="k">end</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="vi">@path</span> <span class="o">=</span> <span class="n">path</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">find</span><span class="p">(</span><span class="n">slug</span><span class="p">)</span>
    <span class="n">path</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">expand_path</span><span class="p">(</span><span class="s2">"../../plays/</span><span class="si">#{</span><span class="n">slug</span><span class="si">}</span><span class="s2">.tei"</span><span class="p">,</span> 
                            <span class="bp">__FILE__</span><span class="p">)</span>
    <span class="k">raise</span> <span class="no">NotFoundError</span> <span class="k">unless</span> <span class="no">File</span><span class="o">.</span><span class="n">file?</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="kp">new</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span></pre></div></div><div class="foil-notes"><div class="foilinset"><div class="programlisting highlight"><pre class="ruby"><span class="k">class</span> <span class="nc">Play</span>
  <span class="k">class</span> <span class="nc">NotFoundError</span> <span class="o">&lt;</span> <span class="no">StandardError</span><span class="p">;</span> <span class="k">end</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="vi">@path</span> <span class="o">=</span> <span class="n">path</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">find</span><span class="p">(</span><span class="n">slug</span><span class="p">)</span>
    <span class="n">path</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">expand_path</span><span class="p">(</span><span class="s2">"../../plays/</span><span class="si">#{</span><span class="n">slug</span><span class="si">}</span><span class="s2">.tei"</span><span class="p">,</span> 
                            <span class="bp">__FILE__</span><span class="p">)</span>
    <span class="k">raise</span> <span class="no">NotFoundError</span> <span class="k">unless</span> <span class="no">File</span><span class="o">.</span><span class="n">file?</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="kp">new</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">41</div></div></div><div class="foil"><div class="page"><div class="header"><h1>What Acts does a Play have?</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="programlisting highlight"><pre class="ruby"><span class="nb">require</span> <span class="s1">'act'</span>
<span class="k">class</span> <span class="nc">Play</span>
  <span class="k">def</span> <span class="nf">acts</span>
    <span class="k">return</span> <span class="vi">@acts</span> <span class="k">if</span> <span class="vi">@acts</span>
    <span class="n">act_numbers</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">.</span><span class="n">.</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s1">'div'</span><span class="p">)</span><span class="o">.</span><span class="n">length</span><span class="p">))</span>
    <span class="vi">@acts</span> <span class="o">=</span> <span class="n">act_numbers</span><span class="o">.</span><span class="n">to_a</span><span class="o">.</span><span class="n">collect</span> <span class="p">{</span> <span class="o">|</span><span class="n">act_number</span><span class="o">|</span> 
      <span class="no">Act</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">self</span><span class="p">,</span> <span class="n">act_number</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">act</span><span class="p">(</span><span class="n">act_number</span><span class="p">)</span>
    <span class="k">raise</span> <span class="no">NotFoundError</span> <span class="k">if</span> <span class="n">act_number</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="n">act</span> <span class="o">=</span> <span class="n">acts</span><span class="o">[</span><span class="n">act_number</span><span class="o">.</span><span class="n">to_i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">]</span>
    <span class="k">raise</span> <span class="no">NotFoundError</span> <span class="k">if</span> <span class="n">act</span><span class="o">.</span><span class="n">nil?</span>
    <span class="n">act</span>
  <span class="k">end</span>
<span class="k">end</span></pre></div></div><div class="foil-notes"><div class="foilinset"><div class="programlisting highlight"><pre class="ruby"><span class="nb">require</span> <span class="s1">'act'</span>
<span class="k">class</span> <span class="nc">Play</span>
  <span class="k">def</span> <span class="nf">acts</span>
    <span class="k">return</span> <span class="vi">@acts</span> <span class="k">if</span> <span class="vi">@acts</span>
    <span class="n">act_numbers</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">.</span><span class="n">.</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s1">'div'</span><span class="p">)</span><span class="o">.</span><span class="n">length</span><span class="p">))</span>
    <span class="vi">@acts</span> <span class="o">=</span> <span class="n">act_numbers</span><span class="o">.</span><span class="n">to_a</span><span class="o">.</span><span class="n">collect</span> <span class="p">{</span> <span class="o">|</span><span class="n">act_number</span><span class="o">|</span> 
      <span class="no">Act</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">self</span><span class="p">,</span> <span class="n">act_number</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">act</span><span class="p">(</span><span class="n">act_number</span><span class="p">)</span>
    <span class="k">raise</span> <span class="no">NotFoundError</span> <span class="k">if</span> <span class="n">act_number</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="n">act</span> <span class="o">=</span> <span class="n">acts</span><span class="o">[</span><span class="n">act_number</span><span class="o">.</span><span class="n">to_i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">]</span>
    <span class="k">raise</span> <span class="no">NotFoundError</span> <span class="k">if</span> <span class="n">act</span><span class="o">.</span><span class="n">nil?</span>
    <span class="n">act</span>
  <span class="k">end</span>
<span class="k">end</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">42</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Showing a whole Act</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>What do we need?</p><div class="itemizedlist"><ul><li><p>HTML template</p></li><li><p>Ability to get an Act object</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><p>What do we need?</p><div class="itemizedlist"><ul><li><p>HTML template</p></li><li><p>Ability to get an Act object</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">43</div></div></div><div class="foil"><div class="page"><div class="header"><h1>HTML template</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="programlisting highlight"><pre class="erb"><span class="x">&lt;a href="/plays/</span><span class="cp">&lt;%=</span> <span class="n">url</span><span class="p">(</span><span class="s2">"/plays/</span><span class="si">#{</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="x">"&gt;</span>
<span class="x">  </span><span class="cp">&lt;%=</span> <span class="vi">@play</span><span class="o">.</span><span class="n">title</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="x">&lt;/a&gt;</span>

<span class="cp">&lt;%=</span> <span class="vi">@act</span><span class="o">.</span><span class="n">html</span> <span class="cp">%&gt;</span><span class="x"></span></pre></div><p><code class="code">views/show.erb</code></p></div><div class="foil-notes"><div class="foilinset"><div class="programlisting highlight"><pre class="erb"><span class="x">&lt;a href="/plays/</span><span class="cp">&lt;%=</span> <span class="n">url</span><span class="p">(</span><span class="s2">"/plays/</span><span class="si">#{</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="x">"&gt;</span>
<span class="x">  </span><span class="cp">&lt;%=</span> <span class="vi">@play</span><span class="o">.</span><span class="n">title</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="x">&lt;/a&gt;</span>

<span class="cp">&lt;%=</span> <span class="vi">@act</span><span class="o">.</span><span class="n">html</span> <span class="cp">%&gt;</span><span class="x"></span></pre></div><p><code class="code">views/show.erb</code></p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">44</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Getting an Act</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></div><div class="foil-body"><div class="programlisting highlight"><pre class="ruby"><span class="n">get</span> <span class="s1">'/plays/:id/act/:act_number'</span> <span class="k">do</span>
  <span class="vi">@play</span> <span class="o">=</span> <span class="no">Play</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
  <span class="vi">@act</span> <span class="o">=</span> <span class="vi">@play</span><span class="o">.</span><span class="n">act</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:act_number</span><span class="o">]</span><span class="p">)</span>
  <span class="vi">@title</span> <span class="o">=</span> <span class="vi">@play</span><span class="o">.</span><span class="n">title</span> <span class="o">+</span> <span class="s2">": "</span> <span class="o">+</span> <span class="vi">@act</span><span class="o">.</span><span class="n">title</span>
  <span class="n">erb</span> <span class="ss">:show</span>
<span class="k">end</span></pre></div><p><code class="code">lib/annotated_shakespeare.rb</code></p></div><div class="foil-notes"><div class="foilinset"><div class="programlisting highlight"><pre class="ruby"><span class="n">get</span> <span class="s1">'/plays/:id/act/:act_number'</span> <span class="k">do</span>
  <span class="vi">@play</span> <span class="o">=</span> <span class="no">Play</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
  <span class="vi">@act</span> <span class="o">=</span> <span class="vi">@play</span><span class="o">.</span><span class="n">act</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:act_number</span><span class="o">]</span><span class="p">)</span>
  <span class="vi">@title</span> <span class="o">=</span> <span class="vi">@play</span><span class="o">.</span><span class="n">title</span> <span class="o">+</span> <span class="s2">": "</span> <span class="o">+</span> <span class="vi">@act</span><span class="o">.</span><span class="n">title</span>
  <span class="n">erb</span> <span class="ss">:show</span>
<span class="k">end</span></pre></div><p><code class="code">lib/annotated_shakespeare.rb</code></p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">45</div></div></div></body></html>