<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="localStorage.key" content="slideno" /><title>Practical Web Applications</title><script type="text/javascript" language="javascript" src="js/jquery-1.6.2.min.js"></script><script type="text/javascript" language="javascript" src="js/jquery-ui-1.8.16.custom.min.js"></script><script type="text/javascript" language="javascript" src="js/jquery-timers-1.2.js"></script><script type="text/javascript" language="javascript" src="js/jquery.ba-hashchange.min.js"></script><script type="text/javascript" language="javascript" src="js/slides.js"></script><link type="text/css" rel="stylesheet" href="css/ui-lightness/jquery-ui-1.8.16.custom.css" /><link type="text/css" rel="stylesheet" href="css/slides.css" /><script type="text/javascript" src="js/javascript-js.js"></script><script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script><script type="text/javascript" src="js/html-geoloc.js"></script><link rel="stylesheet" type="text/css" href="css/html-css.css" /><link rel="stylesheet" type="text/css" href="css/pygments.css" /><meta name="timer" content="true" /><meta name="countdown" content="180:00" /></head><body><div class="foil titlefoil"><div class="page"><div class="header"><h1>Practical Web Applications</h1><h2>20 September 2012</h2></div><div class="body"><h1>Session Six</h1><div class="authorgroup"><div class="author"><h2><span class="personname"><span class="firstname">Lauren</span> <span class="surname">Wood</span></span></h2><h3><span class="orgname">Textuality Services, Inc.</span></h3></div><div class="author"><h2><span class="personname"><span class="firstname">Matt</span> <span class="surname">Patterson</span></span></h2><h3><span class="orgname">Constituent Parts, Ltd.</span></h3></div><div class="author"><h2><span class="personname"><span class="firstname">Norman </span> <span class="surname">Walsh</span></span></h2><h3><span class="orgname">MarkLogic</span></h3></div><div class="author"><h2><span class="personname"><span class="firstname">Paul</span> <span class="surname">Downey</span></span></h2><h3><span class="orgname">GDS</span></h3></div></div><div class="legalnotice"><p>Alpha by first name</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Agenda</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><ul class="toc"><li><a href="#1">Cascading Style Sheets (CSS)</a></li><li><a href="#12">Q&amp;A</a></li><li><a href="#13">JavaScript</a></li><li><a href="#40">Q&amp;A</a></li><li><a href="#41">What does an Annotation do?</a></li><li><a href="#45">Adding a form for Annotations in the body of the Act HTML</a></li><li><a href="#51">The Annotation object</a></li><li><a href="#54">Adding Annotations to the body of the Act HTML</a></li><li><a href="#62">Processing the form POST</a></li><li><a href="#64">Adding Annotations without reloading the page</a></li><li><a href="#72">Showing and hiding annotations on demand</a></li><li><a href="#76">Unobtrusively indicating the presence of annotations</a></li></ul></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div></div></div><div class="foil titlefoil foilgroup"><div class="page"><div class="header"><h1>Cascading Style Sheets (CSS)</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">1</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Cascading Style Sheets</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Associating style with elements:</p><div class="programlisting highlight"><pre class="css"><span class="nt">code</span><span class="nc">.red</span> <span class="p">{</span>
  <span class="k">background-color</span><span class="o">:</span> <span class="m">#FFAAAA</span><span class="p">;</span>
<span class="p">}</span></pre></div><p>This means <code class="code red">&lt;code class="red"&gt;</code> has a red background color.</p></div><div class="foil-notes"><div class="foilinset"><p>Associating style with elements:</p><div class="programlisting highlight"><pre class="css"><span class="nt">code</span><span class="nc">.red</span> <span class="p">{</span>
  <span class="k">background-color</span><span class="o">:</span> <span class="m">#FFAAAA</span><span class="p">;</span>
<span class="p">}</span></pre></div><p>This means <code class="code red">&lt;code class="red"&gt;</code> has a red background color.</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">2</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Cascading Style Sheets</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Associating style with elements:</p><p>And also something more complex:</p><div class="programlisting highlight"><pre class="css"><span class="nt">span</span><span class="nc">.ex</span> <span class="o">&gt;</span> <span class="nt">span</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">2</span><span class="o">)</span><span class="nd">:before</span> <span class="p">{</span>
  <span class="k">content</span><span class="o">:</span> <span class="s2">" [ "</span><span class="p">;</span>
  <span class="k">background-color</span><span class="o">:</span> <span class="m">#AAFFAA</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">span</span><span class="nc">.ex</span> <span class="o">&gt;</span> <span class="nt">span</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">2</span><span class="o">)</span><span class="nd">:after</span> <span class="p">{</span>
  <span class="k">content</span><span class="o">:</span> <span class="s2">" ] "</span><span class="p">;</span>
  <span class="k">background-color</span><span class="o">:</span> <span class="m">#AAFFAA</span><span class="p">;</span>
<span class="p">}</span></pre></div><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"ex"</span><span class="nt">&gt;&lt;span&gt;</span>first<span class="nt">&lt;/span&gt;</span>,
<span class="nt">&lt;span&gt;</span>second<span class="nt">&lt;/span&gt;</span>,<span class="nt">&lt;span&gt;</span>third<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;/span&gt;</span></pre></div><p>renders like this:
<span class="ex"><span>first</span>,<span>second</span>,<span>third</span></span>
</p></div><div class="foil-notes"><div class="foilinset"><p>Associating style with elements:</p><p>And also something more complex:</p><div class="programlisting highlight"><pre class="css"><span class="nt">span</span><span class="nc">.ex</span> <span class="o">&gt;</span> <span class="nt">span</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">2</span><span class="o">)</span><span class="nd">:before</span> <span class="p">{</span>
  <span class="k">content</span><span class="o">:</span> <span class="s2">" [ "</span><span class="p">;</span>
  <span class="k">background-color</span><span class="o">:</span> <span class="m">#AAFFAA</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">span</span><span class="nc">.ex</span> <span class="o">&gt;</span> <span class="nt">span</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">2</span><span class="o">)</span><span class="nd">:after</span> <span class="p">{</span>
  <span class="k">content</span><span class="o">:</span> <span class="s2">" ] "</span><span class="p">;</span>
  <span class="k">background-color</span><span class="o">:</span> <span class="m">#AAFFAA</span><span class="p">;</span>
<span class="p">}</span></pre></div><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"ex"</span><span class="nt">&gt;&lt;span&gt;</span>first<span class="nt">&lt;/span&gt;</span>,
<span class="nt">&lt;span&gt;</span>second<span class="nt">&lt;/span&gt;</span>,<span class="nt">&lt;span&gt;</span>third<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;/span&gt;</span></pre></div><p>renders like this:
<span class="ex"><span>first</span>,<span>second</span>,<span>third</span></span>
</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">3</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Adding CSS to HTML</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>There are two ways to add CSS to an HTML page:</p><div class="itemizedlist"><ul><li><p>Inline:</p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;style</span> <span class="na">type=</span><span class="s">"text/css"</span><span class="nt">&gt;</span>
code.red {
  background-color: #FFAAAA;
}</pre></div></li><li><p>With a link:</p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">type=</span><span class="s">"text/css"</span>
      <span class="na">href=</span><span class="s">"css/webtech.css"</span> <span class="nt">/&gt;</span></pre></div></li></ul></div></div><div class="foil-notes"><div class="foilinset"><p>There are two ways to add CSS to an HTML page:</p><div class="itemizedlist"><ul><li><p>Inline:</p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;style</span> <span class="na">type=</span><span class="s">"text/css"</span><span class="nt">&gt;</span>
code.red {
  background-color: #FFAAAA;
}</pre></div></li><li><p>With a link:</p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">type=</span><span class="s">"text/css"</span>
      <span class="na">href=</span><span class="s">"css/webtech.css"</span> <span class="nt">/&gt;</span></pre></div></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">4</div></div></div><div class="foil"><div class="page"><div class="header"><h1>CSS Selectors</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="variablelist"><dl><dt><span class="term"><code class="literal">E</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element</p></dd><dt><span class="term"><code class="literal">.cl</code></span></dt><dd><p>Any element with a “<span class="att">class</span>” attribute that
includes the class “<code class="literal">cl</code>”.</p></dd><dt><span class="term"><code class="literal">.cl1.cl2</code></span></dt><dd><p>Any element with a “<span class="att">class</span>” attribute that
includes the class “<code class="literal">cl1</code>” and “<code class="literal">cl2</code>”.</p></dd><dt><span class="term"><code class="literal">#id</code></span></dt><dd><p>Any element with an ID value of “id”.</p></dd></dl></div></div><div class="foil-notes"><div class="foilinset"><div class="variablelist"><dl><dt><span class="term"><code class="literal">E</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element</p></dd><dt><span class="term"><code class="literal">.cl</code></span></dt><dd><p>Any element with a “<span class="att">class</span>” attribute that
includes the class “<code class="literal">cl</code>”.</p></dd><dt><span class="term"><code class="literal">.cl1.cl2</code></span></dt><dd><p>Any element with a “<span class="att">class</span>” attribute that
includes the class “<code class="literal">cl1</code>” and “<code class="literal">cl2</code>”.</p></dd><dt><span class="term"><code class="literal">#id</code></span></dt><dd><p>Any element with an ID value of “id”.</p></dd></dl></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">5</div></div></div><div class="foil"><div class="page"><div class="header"><h1>CSS Selectors (continued)</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="variablelist"><dl><dt><span class="term"><code class="literal">E.cl</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element with a “<span class="att">class</span>” attribute that
includes the class “<code class="literal">cl</code>”.</p></dd><dt><span class="term"><code class="literal">E#id</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element with the ID “<code class="literal">id</code>”</p></dd><dt><span class="term"><code class="literal">A E</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element that is a descendant of some ancestor “<code class="tag-element">A</code>”</p></dd><dt><span class="term"><code class="literal">P &gt; E</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element who's parent is “<code class="tag-element">P</code>”</p></dd><dt><span class="term"><code class="literal">P + E</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element immediately preceded by a “<code class="tag-element">P</code>”</p></dd></dl></div></div><div class="foil-notes"><div class="foilinset"><div class="variablelist"><dl><dt><span class="term"><code class="literal">E.cl</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element with a “<span class="att">class</span>” attribute that
includes the class “<code class="literal">cl</code>”.</p></dd><dt><span class="term"><code class="literal">E#id</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element with the ID “<code class="literal">id</code>”</p></dd><dt><span class="term"><code class="literal">A E</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element that is a descendant of some ancestor “<code class="tag-element">A</code>”</p></dd><dt><span class="term"><code class="literal">P &gt; E</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element who's parent is “<code class="tag-element">P</code>”</p></dd><dt><span class="term"><code class="literal">P + E</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element immediately preceded by a “<code class="tag-element">P</code>”</p></dd></dl></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">6</div></div></div><div class="foil"><div class="page"><div class="header"><h1>CSS Selectors (continued)</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="variablelist"><dl><dt><span class="term"><code class="literal">P ~ E</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element preceded by a “<code class="tag-element">P</code>”</p></dd><dt><span class="term"><code class="literal">E[a]</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element with an “<span class="att">a</span>” attribute.</p></dd><dt><span class="term"><code class="literal">E[a="val"]</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element with an “<span class="att">a</span>” attribute whose
value is exactly “<code class="literal">val</code>”. (<em class="foreignphrase">c.f.</em>
<code class="literal">~=</code>, <code class="literal">^=</code>, <code class="literal">$=</code>, <code class="literal">*=</code>,
and <code class="literal">|=</code>)</p></dd></dl></div></div><div class="foil-notes"><div class="foilinset"><div class="variablelist"><dl><dt><span class="term"><code class="literal">P ~ E</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element preceded by a “<code class="tag-element">P</code>”</p></dd><dt><span class="term"><code class="literal">E[a]</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element with an “<span class="att">a</span>” attribute.</p></dd><dt><span class="term"><code class="literal">E[a="val"]</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element with an “<span class="att">a</span>” attribute whose
value is exactly “<code class="literal">val</code>”. (<em class="foreignphrase">c.f.</em>
<code class="literal">~=</code>, <code class="literal">^=</code>, <code class="literal">$=</code>, <code class="literal">*=</code>,
and <code class="literal">|=</code>)</p></dd></dl></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">7</div></div></div><div class="foil"><div class="page"><div class="header"><h1>CSS Selectors (continued)</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="variablelist"><dl><dt><span class="term"><code class="literal">E:first-child</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element that is the first child of its parent
(<em class="foreignphrase">c.f.</em> <code class="literal">:last-child</code>, <code class="literal">:first-of-type</code>,
<code class="literal">:last-of-type</code>, <code class="literal">:only-child</code>, and <code class="literal">:only-of-type</code>)
</p></dd><dt><span class="term"><code class="literal">E:first-letter</code></span></dt><dd><p>The first (formatted) letter of an “<code class="tag-element">E</code>” element</p></dd><dt><span class="term"><code class="literal">E:first-line</code></span></dt><dd><p>The first (formatted) line of an “<code class="tag-element">E</code>” element</p></dd></dl></div></div><div class="foil-notes"><div class="foilinset"><div class="variablelist"><dl><dt><span class="term"><code class="literal">E:first-child</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element that is the first child of its parent
(<em class="foreignphrase">c.f.</em> <code class="literal">:last-child</code>, <code class="literal">:first-of-type</code>,
<code class="literal">:last-of-type</code>, <code class="literal">:only-child</code>, and <code class="literal">:only-of-type</code>)
</p></dd><dt><span class="term"><code class="literal">E:first-letter</code></span></dt><dd><p>The first (formatted) letter of an “<code class="tag-element">E</code>” element</p></dd><dt><span class="term"><code class="literal">E:first-line</code></span></dt><dd><p>The first (formatted) line of an “<code class="tag-element">E</code>” element</p></dd></dl></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">8</div></div></div><div class="foil"><div class="page"><div class="header"><h1>CSS Selectors (continued)</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="variablelist"><dl><dt><span class="term"><code class="literal">E:empty</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element that is empty</p></dd><dt><span class="term"><code class="literal">E:link</code> (<code class="literal">E:visited</code>)</span></dt><dd><p>An “<code class="tag-element">E</code>” element that is a link that has not (has) been visited</p></dd><dt><span class="term"><code class="literal">E:active</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element that is active (in a user action)
(<em class="foreignphrase">c.f.</em> <code class="literal">:hover</code>, <code class="literal">:focus</code>,
<code class="literal">:enabled</code>, <code class="literal">:disabled</code>, and <code class="literal">checked:</code>)
</p></dd><dt><span class="term"><code class="literal">E:not(S)</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element that does not match the
<em>simple</em> selector “<code class="literal">S</code>”</p></dd></dl></div></div><div class="foil-notes"><div class="foilinset"><div class="variablelist"><dl><dt><span class="term"><code class="literal">E:empty</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element that is empty</p></dd><dt><span class="term"><code class="literal">E:link</code> (<code class="literal">E:visited</code>)</span></dt><dd><p>An “<code class="tag-element">E</code>” element that is a link that has not (has) been visited</p></dd><dt><span class="term"><code class="literal">E:active</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element that is active (in a user action)
(<em class="foreignphrase">c.f.</em> <code class="literal">:hover</code>, <code class="literal">:focus</code>,
<code class="literal">:enabled</code>, <code class="literal">:disabled</code>, and <code class="literal">checked:</code>)
</p></dd><dt><span class="term"><code class="literal">E:not(S)</code></span></dt><dd><p>An “<code class="tag-element">E</code>” element that does not match the
<em>simple</em> selector “<code class="literal">S</code>”</p></dd></dl></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">9</div></div></div><div class="foil"><div class="page"><div class="header"><h1>CSS media queries</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="itemizedlist"><ul><li><p>In the modern world, are desktop and laptop machines, tablets, and mobile phones are
all popular devices for accessing the internet. These have quite different aspect ratios
and resolutions.</p></li><li><p>Designing for any one of those platforms is often straightforward. But creating
a single design that works equally well on all those devices is exceedingly hard.</p></li><li><p>What we need is a way of selecting the appropriate design based on the device.</p></li><li><p>Enter media queries.</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><div class="itemizedlist"><ul><li><p>In the modern world, are desktop and laptop machines, tablets, and mobile phones are
all popular devices for accessing the internet. These have quite different aspect ratios
and resolutions.</p></li><li><p>Designing for any one of those platforms is often straightforward. But creating
a single design that works equally well on all those devices is exceedingly hard.</p></li><li><p>What we need is a way of selecting the appropriate design based on the device.</p></li><li><p>Enter media queries.</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">10</div></div></div><div class="foil"><div class="page"><div class="header"><h1>CSS media query examples</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Select the appropriate stylesheet:</p><div class="programlisting highlight"><pre class="html"><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"base.css"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"color.css"</span>
      <span class="na">media=</span><span class="s">"screen and (color)"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"print.css"</span>
      <span class="na">media=</span><span class="s">"print"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"phone.css"</span>
      <span class="na">media=</span><span class="s">"(max-width: 400px)"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"landscape.css"</span>
      <span class="na">media=</span><span class="s">"handheld and (orientation:landscape)"</span><span class="nt">/&gt;</span></pre></div><p>Or select the appropriate rule:</p><div class="programlisting highlight"><pre class="css"><span class="k">@media</span> <span class="nt">screen</span> <span class="nt">and</span> <span class="o">(</span><span class="nt">device-aspect-ratio</span><span class="o">:</span> <span class="nt">16</span><span class="o">/</span><span class="nt">9</span><span class="o">)</span> <span class="p">{</span>
  <span class="c">/* 16x9 device rules */</span>
<span class="p">}</span></pre></div></div><div class="foil-notes"><div class="foilinset"><p>Select the appropriate stylesheet:</p><div class="programlisting highlight"><pre class="html"><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"base.css"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"color.css"</span>
      <span class="na">media=</span><span class="s">"screen and (color)"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"print.css"</span>
      <span class="na">media=</span><span class="s">"print"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"phone.css"</span>
      <span class="na">media=</span><span class="s">"(max-width: 400px)"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"landscape.css"</span>
      <span class="na">media=</span><span class="s">"handheld and (orientation:landscape)"</span><span class="nt">/&gt;</span></pre></div><p>Or select the appropriate rule:</p><div class="programlisting highlight"><pre class="css"><span class="k">@media</span> <span class="nt">screen</span> <span class="nt">and</span> <span class="o">(</span><span class="nt">device-aspect-ratio</span><span class="o">:</span> <span class="nt">16</span><span class="o">/</span><span class="nt">9</span><span class="o">)</span> <span class="p">{</span>
  <span class="c">/* 16x9 device rules */</span>
<span class="p">}</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">11</div></div></div><div class="foil titlefoil foilgroup"><div class="page"><div class="header"><h1>Q&amp;A</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Thanks!</p></div><div class="foil-notes"><div class="foilinset"><p>Thanks!</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">12</div></div></div><div class="foil titlefoil foilgroup"><div class="page"><div class="header"><h1>JavaScript</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">13</div></div></div><div class="foil"><div class="page"><div class="header"><h1>JavaScript</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="itemizedlist"><ul><li><p>JavaScript is the defacto standard programming language for web
applications; browsers expose significant JavaScript APIs (<em class="foreignphrase">n.b.</em>: it is
also popular in other contexts)</p></li><li><p>Although it started as a slow, limited, odd little language, it has grown into a quite
substantial and robust (if still a bit odd) language supported on some very fast virtual
machines</p></li><li><p>Technically, it is an object-oriented language that uses prototypes; it is a dynamic language
with first-class and nested functions supporting closures</p></li><li><p>JavaScript utilizes (or supports) a mixture of object-oriented, imperative, and functional
programming styles</p></li><li><p>Syntactically, it's from the C/Java school</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><div class="itemizedlist"><ul><li><p>JavaScript is the defacto standard programming language for web
applications; browsers expose significant JavaScript APIs (<em class="foreignphrase">n.b.</em>: it is
also popular in other contexts)</p></li><li><p>Although it started as a slow, limited, odd little language, it has grown into a quite
substantial and robust (if still a bit odd) language supported on some very fast virtual
machines</p></li><li><p>Technically, it is an object-oriented language that uses prototypes; it is a dynamic language
with first-class and nested functions supporting closures</p></li><li><p>JavaScript utilizes (or supports) a mixture of object-oriented, imperative, and functional
programming styles</p></li><li><p>Syntactically, it's from the C/Java school</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">14</div></div></div><div class="foil"><div class="page"><div class="header"><h1>JavaScript Syntax</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>In lieu of several hours of JavaScript instruction…some examples</p><div class="programlisting highlight"><pre class="javascript"><span class="cm">/* comment */</span>
<span class="k">return</span> <span class="mi">3</span><span class="o">+</span><span class="mi">4</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="k">return</span> <span class="nx">x</span><span class="o">+</span><span class="nx">y</span> <span class="c1">// 7, in case you weren't sure</span>

<span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">total</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// local variable</span>
  <span class="nx">total</span> <span class="o">+=</span> <span class="nx">n</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">total</span><span class="p">;</span>
<span class="p">}</span></pre></div></div><div class="foil-notes"><div class="foilinset"><p>In lieu of several hours of JavaScript instruction…some examples</p><div class="programlisting highlight"><pre class="javascript"><span class="cm">/* comment */</span>
<span class="k">return</span> <span class="mi">3</span><span class="o">+</span><span class="mi">4</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="k">return</span> <span class="nx">x</span><span class="o">+</span><span class="nx">y</span> <span class="c1">// 7, in case you weren't sure</span>

<span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">total</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// local variable</span>
  <span class="nx">total</span> <span class="o">+=</span> <span class="nx">n</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">total</span><span class="p">;</span>
<span class="p">}</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">15</div></div></div><div class="foil"><div class="page"><div class="header"><h1>JavaScript Syntax (continued)</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="programlisting highlight"><pre class="javascript"><span class="c1">// More examples</span>

<span class="kd">var</span> <span class="nx">produce</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"apple"</span><span class="o">:</span>      <span class="p">{</span> <span class="s2">"color"</span><span class="o">:</span> <span class="s2">"red"</span><span class="p">,</span>
                                <span class="s2">"fruit"</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span>
                <span class="s2">"plum"</span><span class="o">:</span>       <span class="p">{</span> <span class="s2">"color"</span><span class="o">:</span> <span class="s2">"purple"</span><span class="p">,</span>
                                <span class="s2">"fruit"</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span>
                <span class="s2">"strawberry"</span><span class="o">:</span> <span class="p">{</span> <span class="s2">"color"</span><span class="o">:</span> <span class="s2">"red"</span><span class="p">,</span>
                                <span class="s2">"fruit"</span><span class="o">:</span> <span class="kc">false</span> <span class="p">}</span> <span class="p">};</span>

<span class="nx">produce</span><span class="p">[</span><span class="s2">"plum"</span><span class="p">][</span><span class="s2">"color"</span><span class="p">]</span> <span class="c1">// "purple"</span>
<span class="nx">produce</span><span class="p">.</span><span class="nx">strawberry</span><span class="p">.</span><span class="nx">fruit</span> <span class="c1">// false</span>

<span class="k">return</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">b</span><span class="p">().</span><span class="nx">c</span><span class="p">()</span></pre></div></div><div class="foil-notes"><div class="foilinset"><div class="programlisting highlight"><pre class="javascript"><span class="c1">// More examples</span>

<span class="kd">var</span> <span class="nx">produce</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"apple"</span><span class="o">:</span>      <span class="p">{</span> <span class="s2">"color"</span><span class="o">:</span> <span class="s2">"red"</span><span class="p">,</span>
                                <span class="s2">"fruit"</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span>
                <span class="s2">"plum"</span><span class="o">:</span>       <span class="p">{</span> <span class="s2">"color"</span><span class="o">:</span> <span class="s2">"purple"</span><span class="p">,</span>
                                <span class="s2">"fruit"</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span>
                <span class="s2">"strawberry"</span><span class="o">:</span> <span class="p">{</span> <span class="s2">"color"</span><span class="o">:</span> <span class="s2">"red"</span><span class="p">,</span>
                                <span class="s2">"fruit"</span><span class="o">:</span> <span class="kc">false</span> <span class="p">}</span> <span class="p">};</span>

<span class="nx">produce</span><span class="p">[</span><span class="s2">"plum"</span><span class="p">][</span><span class="s2">"color"</span><span class="p">]</span> <span class="c1">// "purple"</span>
<span class="nx">produce</span><span class="p">.</span><span class="nx">strawberry</span><span class="p">.</span><span class="nx">fruit</span> <span class="c1">// false</span>

<span class="k">return</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">b</span><span class="p">().</span><span class="nx">c</span><span class="p">()</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">16</div></div></div><div class="foil"><div class="page"><div class="header"><h1>JavaScript and CSS</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Combining JavaScript and CSS makes interactive applications easy and efficient.</p><div class="itemizedlist"><ul><li><p>Respond to events (user input, mouse motion, server actions)</p></li><li><p>Locate HTML elements in the browser</p></li><li><p>Update the CSS associated with those elements (highlight, hide, show, move, resize, etc.)</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><p>Combining JavaScript and CSS makes interactive applications easy and efficient.</p><div class="itemizedlist"><ul><li><p>Respond to events (user input, mouse motion, server actions)</p></li><li><p>Locate HTML elements in the browser</p></li><li><p>Update the CSS associated with those elements (highlight, hide, show, move, resize, etc.)</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">17</div></div></div><div class="foil"><div class="page"><div class="header"><h1>JavaScript and AJAX</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>One of the things that reinvigorated interest in JavaScript a few years ago
was the (re)discovery of AJAX: “Asynchronous JavaScript and XML”.</p><div class="itemizedlist"><ul><li><p>JavaScript running in the browser send an HTTP request to a server.</p></li><li><p>It establishes a callback function for the result and returns control to the browser.</p></li><li><p>When the server responds, the callback function is automatically called</p></li><li><p>This leads to fast, dynamic applications</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><p>One of the things that reinvigorated interest in JavaScript a few years ago
was the (re)discovery of AJAX: “Asynchronous JavaScript and XML”.</p><div class="itemizedlist"><ul><li><p>JavaScript running in the browser send an HTTP request to a server.</p></li><li><p>It establishes a callback function for the result and returns control to the browser.</p></li><li><p>When the server responds, the callback function is automatically called</p></li><li><p>This leads to fast, dynamic applications</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">18</div></div></div><div class="foil"><div class="page"><div class="header"><h1>JavaScript and JSON</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Many AJAX services these days use JSON instead of XML:</p><div class="programlisting highlight"><pre class="javascript"><span class="p">{</span>
    <span class="s2">"name"</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">"first"</span><span class="o">:</span> <span class="s2">"John"</span><span class="p">,</span>
        <span class="s2">"last"</span><span class="o">:</span> <span class="s2">"Smith"</span>
    <span class="p">},</span>
    <span class="s2">"age"</span><span class="o">:</span> <span class="mi">45</span><span class="p">,</span>
    <span class="s2">"phones"</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">"+1-413-555-1212"</span><span class="p">,</span>
        <span class="s2">"+44-1603633522"</span>
    <span class="p">]</span>
<span class="p">}</span></pre></div><div class="itemizedlist"><ul><li><p>JSON encodes simple data values: objects (hash tables), arrays, numbers, strings, boolean “true”,
boolean “false”, and “null”.</p></li><li><p>Objects and arrays can be nested</p></li><li><p>This syntax fits naturally into the JavaScript programming language</p></li><li><p>JSON offers <em>no practical</em> way to represent mixed content</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><p>Many AJAX services these days use JSON instead of XML:</p><div class="programlisting highlight"><pre class="javascript"><span class="p">{</span>
    <span class="s2">"name"</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">"first"</span><span class="o">:</span> <span class="s2">"John"</span><span class="p">,</span>
        <span class="s2">"last"</span><span class="o">:</span> <span class="s2">"Smith"</span>
    <span class="p">},</span>
    <span class="s2">"age"</span><span class="o">:</span> <span class="mi">45</span><span class="p">,</span>
    <span class="s2">"phones"</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">"+1-413-555-1212"</span><span class="p">,</span>
        <span class="s2">"+44-1603633522"</span>
    <span class="p">]</span>
<span class="p">}</span></pre></div><div class="itemizedlist"><ul><li><p>JSON encodes simple data values: objects (hash tables), arrays, numbers, strings, boolean “true”,
boolean “false”, and “null”.</p></li><li><p>Objects and arrays can be nested</p></li><li><p>This syntax fits naturally into the JavaScript programming language</p></li><li><p>JSON offers <em>no practical</em> way to represent mixed content</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">19</div></div></div><div class="foil"><div class="page"><div class="header"><h1>JavaScript Frameworks</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>JavaScript frameworks offer many advantages:</p><div class="itemizedlist"><ul><li><p>Conceal browser differences
</p></li><li><p>Offer APIs more consistent with JavaScript programming
</p></li><li><p>Provide syntactic conveniences (by using the underlying prototype nature of JavaScript's object
system to extend the language)
</p></li></ul></div><p>Use a framework.</p></div><div class="foil-notes"><div class="foilinset"><p>JavaScript frameworks offer many advantages:</p><div class="itemizedlist"><ul><li><p>Conceal browser differences
</p></li><li><p>Offer APIs more consistent with JavaScript programming
</p></li><li><p>Provide syntactic conveniences (by using the underlying prototype nature of JavaScript's object
system to extend the language)
</p></li></ul></div><p>Use a framework.</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">20</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Popular JavaScript Frameworks</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="itemizedlist"><ul><li><p>Dojo</p></li><li><p>jQuery</p></li><li><p>MochiKit</p></li><li><p>Prototype/script.aculo.us</p></li><li><p>YUI</p></li></ul></div><p>See <a href="http://en.wikipedia.org/wiki/Comparison_of_JavaScript_frameworks">Comparison
of JavaScript frameworks</a>.</p><p>In the examples that follow, I'll be using jQuery.</p></div><div class="foil-notes"><div class="foilinset"><div class="itemizedlist"><ul><li><p>Dojo</p></li><li><p>jQuery</p></li><li><p>MochiKit</p></li><li><p>Prototype/script.aculo.us</p></li><li><p>YUI</p></li></ul></div><p>See <a href="http://en.wikipedia.org/wiki/Comparison_of_JavaScript_frameworks">Comparison
of JavaScript frameworks</a>.</p><p>In the examples that follow, I'll be using jQuery.</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">21</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Unobtrusive JavaScript</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>The name “unobtrusive javascript” is a label for a set of best practices.</p><div class="itemizedlist"><ul><li><p>Keep your JavaScript out of your HTML.</p></li><li><p>Fail gracefully.</p></li><li><p>Don't interfere with accessibility: deliver useful information
even in the face of missing or failing JavaScript.</p></li></ul></div><p>Let's consider an example…</p></div><div class="foil-notes"><div class="foilinset"><p>The name “unobtrusive javascript” is a label for a set of best practices.</p><div class="itemizedlist"><ul><li><p>Keep your JavaScript out of your HTML.</p></li><li><p>Fail gracefully.</p></li><li><p>Don't interfere with accessibility: deliver useful information
even in the face of missing or failing JavaScript.</p></li></ul></div><p>Let's consider an example…</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">22</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Unobtrusive Example</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>The name “unobtrusive javascript” is a label for a set of best practices.</p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"details"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"title"</span><span class="nt">&gt;</span>Be unobtrusive<span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;ul&gt;</span>
    <span class="nt">&lt;li&gt;&lt;p&gt;</span>Keep your JavaScript out of your HTML.
    <span class="nt">&lt;/p&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;p&gt;</span>Fail gracefully.<span class="nt">&lt;/p&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;p&gt;</span>Don't interfere with accessibility<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/div&gt;</span></pre></div><div class="itemizedlist"><div class="title">Be unobtrusive</div><ul><li><p>Keep your JavaScript out of your HTML.</p></li><li><p>Fail gracefully.</p></li><li><p>Don't interfere with accessibility.</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><p>The name “unobtrusive javascript” is a label for a set of best practices.</p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"details"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"title"</span><span class="nt">&gt;</span>Be unobtrusive<span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;ul&gt;</span>
    <span class="nt">&lt;li&gt;&lt;p&gt;</span>Keep your JavaScript out of your HTML.
    <span class="nt">&lt;/p&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;p&gt;</span>Fail gracefully.<span class="nt">&lt;/p&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;p&gt;</span>Don't interfere with accessibility<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/div&gt;</span></pre></div><div class="itemizedlist"><div class="title">Be unobtrusive</div><ul><li><p>Keep your JavaScript out of your HTML.</p></li><li><p>Fail gracefully.</p></li><li><p>Don't interfere with accessibility.</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">23</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Unobtrusive Example (continued)</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>The name “unobtrusive javascript” is a label for a set of best practices.</p><div class="itemizedlist details"><div class="title">Be unobtrusive</div><ul><li><p>Keep your JavaScript out of your HTML.</p></li><li><p>Fail gracefully.</p></li><li><p>Don't interfere with accessibility.</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><p>The name “unobtrusive javascript” is a label for a set of best practices.</p><div class="itemizedlist details"><div class="title">Be unobtrusive</div><ul><li><p>Keep your JavaScript out of your HTML.</p></li><li><p>Fail gracefully.</p></li><li><p>Don't interfere with accessibility.</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">24</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Unobtrusive Example Explained 1/4</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>HTML:</p><div class="programlisting highlight"><pre class="html"><span class="nt">&lt;head&gt;</span>
  ...
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span>
          <span class="na">src=</span><span class="s">"js/jquery-1.6.2.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span>
          <span class="na">src=</span><span class="s">"js/webtech.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span></pre></div></div><div class="foil-notes"><div class="foilinset"><p>HTML:</p><div class="programlisting highlight"><pre class="html"><span class="nt">&lt;head&gt;</span>
  ...
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span>
          <span class="na">src=</span><span class="s">"js/jquery-1.6.2.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span>
          <span class="na">src=</span><span class="s">"js/webtech.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">25</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Unobtrusive Example Explained 2/4</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>JavaScript:</p><div class="programlisting highlight"><pre class="javascript"><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">beUnobtrusive</span><span class="p">();</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">beUnobtrusive</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// If we get here, we have JavaScript and JQuery. Duh.</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">"div.details"</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="nx">processDetails</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">processDetails</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">children</span><span class="p">(</span><span class="s2">"div"</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="nx">processDiv</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">processDiv</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">"font-weight"</span><span class="p">,</span> <span class="s2">"bold"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"toggleClosed"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">toggleList</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">toggleList</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"toggleClosed"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"toggleOpen"</span><span class="p">);</span>
<span class="p">}</span></pre></div></div><div class="foil-notes"><div class="foilinset"><p>JavaScript:</p><div class="programlisting highlight"><pre class="javascript"><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">beUnobtrusive</span><span class="p">();</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">beUnobtrusive</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// If we get here, we have JavaScript and JQuery. Duh.</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">"div.details"</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="nx">processDetails</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">processDetails</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">children</span><span class="p">(</span><span class="s2">"div"</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="nx">processDiv</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">processDiv</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">"font-weight"</span><span class="p">,</span> <span class="s2">"bold"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"toggleClosed"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">toggleList</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">toggleList</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"toggleClosed"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"toggleOpen"</span><span class="p">);</span>
<span class="p">}</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">26</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Unobtrusive Example Explained 3/4</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>CSS:</p><div class="programlisting highlight"><pre class="css"><span class="nc">.toggleClosed</span><span class="nd">:before</span> <span class="p">{</span>
    <span class="k">content</span><span class="o">:</span> <span class="s2">"\25B6 "</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.toggleOpen</span><span class="nd">:before</span> <span class="p">{</span>
    <span class="k">content</span><span class="o">:</span> <span class="s2">"\25BC "</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.toggleClosed</span> <span class="o">~</span> <span class="nt">ul</span> <span class="p">{</span>
    <span class="k">display</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span>
<span class="p">}</span></pre></div></div><div class="foil-notes"><div class="foilinset"><p>CSS:</p><div class="programlisting highlight"><pre class="css"><span class="nc">.toggleClosed</span><span class="nd">:before</span> <span class="p">{</span>
    <span class="k">content</span><span class="o">:</span> <span class="s2">"\25B6 "</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.toggleOpen</span><span class="nd">:before</span> <span class="p">{</span>
    <span class="k">content</span><span class="o">:</span> <span class="s2">"\25BC "</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.toggleClosed</span> <span class="o">~</span> <span class="nt">ul</span> <span class="p">{</span>
    <span class="k">display</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span>
<span class="p">}</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">27</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Unobtrusive Example Explained 4/4</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Alternate JavaScript:</p><div class="programlisting highlight"><pre class="javascript"><span class="kd">function</span> <span class="nx">beUnobtrusive</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// If we get here, we have JavaScript and JQuery. Duh.</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">"div.details"</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">children</span><span class="p">(</span><span class="s2">"div"</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">"font-weight"</span><span class="p">,</span> <span class="s2">"bold"</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"toggleClosed"</span><span class="p">);</span>
            <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"toggleClosed"</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"toggleOpen"</span><span class="p">);</span>
            <span class="p">});</span>
        <span class="p">});</span>
    <span class="p">});</span>
<span class="p">}</span></pre></div></div><div class="foil-notes"><div class="foilinset"><p>Alternate JavaScript:</p><div class="programlisting highlight"><pre class="javascript"><span class="kd">function</span> <span class="nx">beUnobtrusive</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// If we get here, we have JavaScript and JQuery. Duh.</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">"div.details"</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">children</span><span class="p">(</span><span class="s2">"div"</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">"font-weight"</span><span class="p">,</span> <span class="s2">"bold"</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"toggleClosed"</span><span class="p">);</span>
            <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"toggleClosed"</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"toggleOpen"</span><span class="p">);</span>
            <span class="p">});</span>
        <span class="p">});</span>
    <span class="p">});</span>
<span class="p">}</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">28</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Alternate Example</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;details</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/1999/xhtml"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;summary&gt;</span>Be unobtrusive<span class="nt">&lt;/summary&gt;</span>
  <span class="nt">&lt;ul&gt;</span>
    <span class="nt">&lt;li&gt;&lt;p&gt;</span>Keep your JavaScript out of your HTML.
    <span class="nt">&lt;/p&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;p&gt;</span>Fail gracefully.<span class="nt">&lt;/p&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;p&gt;</span>Don't interfere with accessibility<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/details&gt;</span></pre></div><details>
  <summary>Be unobtrusive</summary>
  <ul>
    <li><p>Keep your JavaScript out of your HTML.
    </p></li>
    <li><p>Fail gracefully.</p></li>
    <li><p>Don't interfere with accessibility</p>
    </li>
  </ul>
</details></div><div class="foil-notes"><div class="foilinset"><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;details</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/1999/xhtml"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;summary&gt;</span>Be unobtrusive<span class="nt">&lt;/summary&gt;</span>
  <span class="nt">&lt;ul&gt;</span>
    <span class="nt">&lt;li&gt;&lt;p&gt;</span>Keep your JavaScript out of your HTML.
    <span class="nt">&lt;/p&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;p&gt;</span>Fail gracefully.<span class="nt">&lt;/p&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;p&gt;</span>Don't interfere with accessibility<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/details&gt;</span></pre></div><details>
  <summary>Be unobtrusive</summary>
  <ul>
    <li><p>Keep your JavaScript out of your HTML.
    </p></li>
    <li><p>Fail gracefully.</p></li>
    <li><p>Don't interfere with accessibility</p>
    </li>
  </ul>
</details></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">29</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Progressive enhancement</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Remember our birthday example?</p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;p</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/1999/xhtml"</span><span class="nt">&gt;</span>When
were you born?
<span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"birthday"</span> <span class="na">type=</span><span class="s">"date"</span> <span class="na">size=</span><span class="s">"16"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/p&gt;</span></pre></div><p>Try it out:</p><p>When
were you born?
<input id="birthday" type="date" size="16" />
</p><p id="datetest"></p></div><div class="foil-notes"><div class="foilinset"><p>Remember our birthday example?</p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;p</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/1999/xhtml"</span><span class="nt">&gt;</span>When
were you born?
<span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"birthday"</span> <span class="na">type=</span><span class="s">"date"</span> <span class="na">size=</span><span class="s">"16"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/p&gt;</span></pre></div><p>Try it out:</p><p>When
were you born?
<input id="birthday" type="date" size="16" />
</p><p id="datetest"></p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">30</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Progressive enhancement: How?</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="programlisting highlight"><pre class="html"><span class="nt">&lt;head&gt;</span>
  ...
  <span class="nt">&lt;link</span> <span class="na">type=</span><span class="s">"text/css"</span>
        <span class="na">href=</span><span class="s">"css/ui/jquery-ui-1.8.16.css"</span>
        <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span>
          <span class="na">src=</span><span class="s">"js/jquery-ui-1.8.16.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span>
          <span class="na">src=</span><span class="s">"js/webtech.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span></pre></div><p><code class="filename">js/webtech.js:</code></p><div class="programlisting highlight"><pre class="javascript"><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">datetest</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"input"</span><span class="p">);</span>
    <span class="nx">datetest</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"type"</span><span class="p">,</span> <span class="s2">"date"</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">datetest</span><span class="p">.</span><span class="nx">type</span> <span class="o">==</span> <span class="s2">"text"</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// This browser doesn't support the date type</span>
        <span class="nx">$</span><span class="p">(</span><span class="s2">"#birthday"</span><span class="p">).</span><span class="nx">datepicker</span><span class="p">(</span>
          <span class="p">{</span> <span class="nx">dateFormat</span><span class="o">:</span> <span class="s2">"yy-mm-dd"</span> <span class="p">}</span>
        <span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span></pre></div></div><div class="foil-notes"><div class="foilinset"><div class="programlisting highlight"><pre class="html"><span class="nt">&lt;head&gt;</span>
  ...
  <span class="nt">&lt;link</span> <span class="na">type=</span><span class="s">"text/css"</span>
        <span class="na">href=</span><span class="s">"css/ui/jquery-ui-1.8.16.css"</span>
        <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span>
          <span class="na">src=</span><span class="s">"js/jquery-ui-1.8.16.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span>
          <span class="na">src=</span><span class="s">"js/webtech.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span></pre></div><p><code class="filename">js/webtech.js:</code></p><div class="programlisting highlight"><pre class="javascript"><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">datetest</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"input"</span><span class="p">);</span>
    <span class="nx">datetest</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"type"</span><span class="p">,</span> <span class="s2">"date"</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">datetest</span><span class="p">.</span><span class="nx">type</span> <span class="o">==</span> <span class="s2">"text"</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// This browser doesn't support the date type</span>
        <span class="nx">$</span><span class="p">(</span><span class="s2">"#birthday"</span><span class="p">).</span><span class="nx">datepicker</span><span class="p">(</span>
          <span class="p">{</span> <span class="nx">dateFormat</span><span class="o">:</span> <span class="s2">"yy-mm-dd"</span> <span class="p">}</span>
        <span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">31</div></div></div><div class="foil"><div class="page"><div class="header"><h1>“Modernizing” Toolkits</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="itemizedlist"><ul><li><p>Supporting the date input type was a good example of progressive enhancement, but
in reality you don't have to code it yourself.</p></li><li><p>There are toolkits for exactly this purpose.
</p><div class="itemizedlist"><ul><li><p><a href="https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-Browser-Polyfills">HTML5
Cross Browser Polyfills</a>
</p></li><li><p><a href="http://www.modernizr.com/">Modernizr</a>
</p></li></ul></div></li></ul></div></div><div class="foil-notes"><div class="foilinset"><div class="itemizedlist"><ul><li><p>Supporting the date input type was a good example of progressive enhancement, but
in reality you don't have to code it yourself.</p></li><li><p>There are toolkits for exactly this purpose.
</p><div class="itemizedlist"><ul><li><p><a href="https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-Browser-Polyfills">HTML5
Cross Browser Polyfills</a>
</p></li><li><p><a href="http://www.modernizr.com/">Modernizr</a>
</p></li></ul></div></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">32</div></div></div><div class="foil"><div class="page"><div class="header"><h1>JavaScript APIs</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="itemizedlist"><ul><li><p><a href="http://www.w3.org/TR/geolocation-API/">Geolocation</a></p></li><li><p><a href="http://www.w3.org/TR/webstorage/">Web Storage</a></p></li><li><p><a href="http://www.w3.org/TR/widgets-apis/">Widget Interface</a></p></li><li><p><a href="http://www.w3.org/TR/battery-status/">Battery Status</a></p></li><li><p><a href="http://www.w3.org/TR/vibration/">Vibration</a></p></li><li><p><a href="http://www.w3.org/TR/workers/">Web Workers</a></p></li><li><p>User, resource, and high-resolution timing.</p></li><li><p>Etc., etc., etc.</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><div class="itemizedlist"><ul><li><p><a href="http://www.w3.org/TR/geolocation-API/">Geolocation</a></p></li><li><p><a href="http://www.w3.org/TR/webstorage/">Web Storage</a></p></li><li><p><a href="http://www.w3.org/TR/widgets-apis/">Widget Interface</a></p></li><li><p><a href="http://www.w3.org/TR/battery-status/">Battery Status</a></p></li><li><p><a href="http://www.w3.org/TR/vibration/">Vibration</a></p></li><li><p><a href="http://www.w3.org/TR/workers/">Web Workers</a></p></li><li><p>User, resource, and high-resolution timing.</p></li><li><p>Etc., etc., etc.</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">33</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Geolocation API</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="itemizedlist"><ul><li><p>The
<a href="http://dev.w3.org/geo/api/spec-source.html">Geolocation API</a> is
part of HTML5 and answers the question “where are you?”</p></li><li><p>Many mobile devices have a GPS. Desktop and laptop browsers may be able to use other
mechanisms (IP address, nearby wifi access points)</p></li><li><p>Recent browsers support the standard, older browsers may have proprietary APIs.
</p></li><li><p>Getting a users geolocation requires their consent.</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><div class="itemizedlist"><ul><li><p>The
<a href="http://dev.w3.org/geo/api/spec-source.html">Geolocation API</a> is
part of HTML5 and answers the question “where are you?”</p></li><li><p>Many mobile devices have a GPS. Desktop and laptop browsers may be able to use other
mechanisms (IP address, nearby wifi access points)</p></li><li><p>Recent browsers support the standard, older browsers may have proprietary APIs.
</p></li><li><p>Getting a users geolocation requires their consent.</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">34</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Welcome to Oxford</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p id="whereareyou">Where are you?
<input type="button" id="updateMap" value="Update location" /></p><div id="oxfordmap"></div></div><div class="foil-notes"><div class="foilinset"><p id="whereareyou">Where are you?
<input type="button" id="updateMap" value="Update location" /></p><div id="oxfordmap"></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">35</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Geolocation API</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="programlisting highlight"><pre class="javascript"><span class="k">if</span> <span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">getCurrentPosition</span><span class="p">(</span>
        <span class="nx">updateGeo</span><span class="p">,</span> <span class="nx">handleError</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">updateGeo</span><span class="p">(</span><span class="nx">position</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">"You are here: "</span>
          <span class="o">+</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span>
          <span class="o">+</span> <span class="s2">","</span> <span class="o">+</span>  <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">handleError</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span> <span class="p">(</span><span class="s1">'It all went terribly wrong.'</span><span class="p">);</span>
<span class="p">}</span></pre></div></div><div class="foil-notes"><div class="foilinset"><div class="programlisting highlight"><pre class="javascript"><span class="k">if</span> <span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">getCurrentPosition</span><span class="p">(</span>
        <span class="nx">updateGeo</span><span class="p">,</span> <span class="nx">handleError</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">updateGeo</span><span class="p">(</span><span class="nx">position</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">"You are here: "</span>
          <span class="o">+</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span>
          <span class="o">+</span> <span class="s2">","</span> <span class="o">+</span>  <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">handleError</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span> <span class="p">(</span><span class="s1">'It all went terribly wrong.'</span><span class="p">);</span>
<span class="p">}</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">36</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Local storage</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="itemizedlist"><ul><li><p>HTML5 <a href="http://dev.w3.org/html5/webstorage/">Web Storage</a> is
a simple API for storing data locally</p></li><li><p>Think about applications that you might want to run when you're disconnected.
</p></li><li><p>If they can store data locally, they may be able to restart without a net connection.
</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><div class="itemizedlist"><ul><li><p>HTML5 <a href="http://dev.w3.org/html5/webstorage/">Web Storage</a> is
a simple API for storing data locally</p></li><li><p>Think about applications that you might want to run when you're disconnected.
</p></li><li><p>If they can store data locally, they may be able to restart without a net connection.
</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">37</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Local storage API</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>There are just three things to know:</p><div class="itemizedlist"><ul><li><p>Missing API: <code class="code">typeof localStorage === "undefined"</code>
</p></li><li><p>Save a value: <code class="code">localStorage.setItem("key", value)</code>
</p></li><li><p>Retrieve a value: <code class="code">localStorage.getItem("key")</code>
</p></li></ul></div><p>It is possible to run out of storage, so some error checking is also in order.</p></div><div class="foil-notes"><div class="foilinset"><p>There are just three things to know:</p><div class="itemizedlist"><ul><li><p>Missing API: <code class="code">typeof localStorage === "undefined"</code>
</p></li><li><p>Save a value: <code class="code">localStorage.setItem("key", value)</code>
</p></li><li><p>Retrieve a value: <code class="code">localStorage.getItem("key")</code>
</p></li></ul></div><p>It is possible to run out of storage, so some error checking is also in order.</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">38</div></div></div><div class="foil"><div class="page"><div class="header"><h1>What about my code?</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Local storage of data is fine, but how do I save my HTML, JavaScript, CSS, images,
and other files locally?</p><div class="orderedlist"><ol style="list-style: decimal;"><li><p>Add a manifest to your <code class="tag-element">html</code> element:</p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;html</span> <span class="na">manifest=</span><span class="s">"myapp.appcache"</span><span class="nt">&gt;</span>
   ...</pre></div></li><li><p>Create a manifest file, <code class="filename">myapp.appcache</code> listing the
files that you want to have cached locally:</p><div class="programlisting highlight"><pre><span class="n">CACHE</span> <span class="n">MANIFEST</span>
<span class="n">app</span><span class="p">.</span><span class="n">html</span>
<span class="n">app</span><span class="p">.</span><span class="n">js</span>
<span class="n">app</span><span class="p">.</span><span class="n">css</span>
<span class="n">images</span><span class="o">/</span><span class="n">banner</span><span class="p">.</span><span class="n">png</span></pre></div></li><li><p>Make sure that the manifest is served with the media type
“<code class="code">text/cache-manifest</code>”.
</p></li></ol></div></div><div class="foil-notes"><div class="foilinset"><p>Local storage of data is fine, but how do I save my HTML, JavaScript, CSS, images,
and other files locally?</p><div class="orderedlist"><ol style="list-style: decimal;"><li><p>Add a manifest to your <code class="tag-element">html</code> element:</p><div class="programlisting highlight"><pre class="xml"><span class="nt">&lt;html</span> <span class="na">manifest=</span><span class="s">"myapp.appcache"</span><span class="nt">&gt;</span>
   ...</pre></div></li><li><p>Create a manifest file, <code class="filename">myapp.appcache</code> listing the
files that you want to have cached locally:</p><div class="programlisting highlight"><pre><span class="n">CACHE</span> <span class="n">MANIFEST</span>
<span class="n">app</span><span class="p">.</span><span class="n">html</span>
<span class="n">app</span><span class="p">.</span><span class="n">js</span>
<span class="n">app</span><span class="p">.</span><span class="n">css</span>
<span class="n">images</span><span class="o">/</span><span class="n">banner</span><span class="p">.</span><span class="n">png</span></pre></div></li><li><p>Make sure that the manifest is served with the media type
“<code class="code">text/cache-manifest</code>”.
</p></li></ol></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">39</div></div></div><div class="foil titlefoil foilgroup"><div class="page"><div class="header"><h1>Q&amp;A</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Thanks!</p></div><div class="foil-notes"><div class="foilinset"><p>Thanks!</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">40</div></div></div><div class="foil titlefoil foilgroup"><div class="page"><div class="header"><h1>What does an Annotation do?</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">41</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Annotating a line of dialogue</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Let's assume that Users (scholars, enthusiasts) want to add annotations to individual lines of dialogue in the play.</p></div><div class="foil-notes"><div class="foilinset"><p>Let's assume that Users (scholars, enthusiasts) want to add annotations to individual lines of dialogue in the play.</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">42</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Locating lines of dialogue within the HTML</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="itemizedlist"><ul><li><p>Regularity of the source markup</p></li><li><p>Consistent structures</p></li><li><p>IDs</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><div class="itemizedlist"><ul><li><p>Regularity of the source markup</p></li><li><p>Consistent structures</p></li><li><p>IDs</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">43</div></div></div><div class="foil"><div class="page"><div class="header"><h1>A quick introduction to jQuery &amp; the Web Inspector</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>DEMOTIME</p></div><div class="foil-notes"><div class="foilinset"><p>DEMOTIME</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">44</div></div></div><div class="foil titlefoil foilgroup"><div class="page"><div class="header"><h1>Adding a form for Annotations in the body of the Act HTML</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">45</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Building form HTML in Javascript</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>jQuery has a set of DOM manipulation functions</p><p>http://api.jquery.com/category/manipulation/</p></div><div class="foil-notes"><div class="foilinset"><p>jQuery has a set of DOM manipulation functions</p><p>http://api.jquery.com/category/manipulation/</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">46</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Inserting chunks of HTML</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Create new HTML from a string and append it to an element with id <code class="code">id</code></p><div class="programlisting highlight"><pre class="javascript"><span class="nx">$</span><span class="p">(</span><span class="s1">'#id'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">'&lt;p&gt;Hello World&lt;/p&gt;'</span><span class="p">);</span></pre></div><p>Create new HTML, store it, them append it.</p><div class="programlisting highlight"><pre class="javascript"><span class="kd">var</span> <span class="nx">hello_html</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'&lt;p&gt;Hello World&lt;/p&gt;'</span><span class="p">);</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">'#id'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">hello_html</span><span class="p">);</span></pre></div></div><div class="foil-notes"><div class="foilinset"><p>Create new HTML from a string and append it to an element with id <code class="code">id</code></p><div class="programlisting highlight"><pre class="javascript"><span class="nx">$</span><span class="p">(</span><span class="s1">'#id'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">'&lt;p&gt;Hello World&lt;/p&gt;'</span><span class="p">);</span></pre></div><p>Create new HTML, store it, them append it.</p><div class="programlisting highlight"><pre class="javascript"><span class="kd">var</span> <span class="nx">hello_html</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'&lt;p&gt;Hello World&lt;/p&gt;'</span><span class="p">);</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">'#id'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">hello_html</span><span class="p">);</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">47</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Building the form HTML</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="programlisting highlight"><pre>var form = '<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"annotation creator"</span><span class="nt">&gt;</span>'
  + '<span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"/plays/caesar/act/1/annotations"</span><span class="err">'</span>
  <span class="err">+</span> <span class="err">'</span>      <span class="na">method=</span><span class="s">"POST"</span> <span class="na">charset=</span><span class="s">"utf-8"</span><span class="nt">&gt;</span>'
  + '<span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">"annotation[id]"</span> <span class="na">value=</span><span class="s">""</span><span class="err">'</span>
  <span class="err">+</span> <span class="err">'</span>       <span class="na">type=</span><span class="s">"hidden"</span><span class="nt">&gt;</span>'
  + '<span class="nt">&lt;textarea</span> <span class="na">name=</span><span class="s">"annotation[text]"</span><span class="nt">&gt;&lt;/textarea&gt;</span>'
  + '<span class="nt">&lt;p&gt;&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span><span class="err">'</span>
  <span class="err">+</span> <span class="err">'</span>          <span class="na">value=</span><span class="s">"Add annotation"</span><span class="nt">&gt;&lt;/p&gt;</span>'
  + '<span class="nt">&lt;/form&gt;</span>'
  + '<span class="nt">&lt;/div&gt;</span>';</pre></div></div><div class="foil-notes"><div class="foilinset"><div class="programlisting highlight"><pre>var form = '<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"annotation creator"</span><span class="nt">&gt;</span>'
  + '<span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"/plays/caesar/act/1/annotations"</span><span class="err">'</span>
  <span class="err">+</span> <span class="err">'</span>      <span class="na">method=</span><span class="s">"POST"</span> <span class="na">charset=</span><span class="s">"utf-8"</span><span class="nt">&gt;</span>'
  + '<span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">"annotation[id]"</span> <span class="na">value=</span><span class="s">""</span><span class="err">'</span>
  <span class="err">+</span> <span class="err">'</span>       <span class="na">type=</span><span class="s">"hidden"</span><span class="nt">&gt;</span>'
  + '<span class="nt">&lt;textarea</span> <span class="na">name=</span><span class="s">"annotation[text]"</span><span class="nt">&gt;&lt;/textarea&gt;</span>'
  + '<span class="nt">&lt;p&gt;&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span><span class="err">'</span>
  <span class="err">+</span> <span class="err">'</span>          <span class="na">value=</span><span class="s">"Add annotation"</span><span class="nt">&gt;&lt;/p&gt;</span>'
  + '<span class="nt">&lt;/form&gt;</span>'
  + '<span class="nt">&lt;/div&gt;</span>';</pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">48</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Inserting the form into every line of dialogue</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Our XSLT renders the dialogue like this:</p><div class="programlisting highlight"><pre class="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"sp"</span> <span class="na">id=</span><span class="s">"idm150112"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"speaker italic"</span> <span class="na">id=</span><span class="s">"idm149856"</span><span class="nt">&gt;</span>
Flauius.<span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"ab"</span> <span class="na">id=</span><span class="s">"idm149248"</span><span class="nt">&gt;</span>Hence: home you idle 
Creatures, get you home:<span class="nt">&lt;br/&gt;</span>Is this a Holiday? What, 
know you not<span class="nt">&lt;br/&gt;</span>(Being Mechanicall) you ought not 
walke<span class="nt">&lt;br/&gt;</span>Vpon a labouring day, without the signe<span class="nt">&lt;br/&gt;</span>
Of your Profession? Speake, what Trade art thou?<span class="nt">&lt;br/&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>

      </pre></div></div><div class="foil-notes"><div class="foilinset"><p>Our XSLT renders the dialogue like this:</p><div class="programlisting highlight"><pre class="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"sp"</span> <span class="na">id=</span><span class="s">"idm150112"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"speaker italic"</span> <span class="na">id=</span><span class="s">"idm149856"</span><span class="nt">&gt;</span>
Flauius.<span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"ab"</span> <span class="na">id=</span><span class="s">"idm149248"</span><span class="nt">&gt;</span>Hence: home you idle 
Creatures, get you home:<span class="nt">&lt;br/&gt;</span>Is this a Holiday? What, 
know you not<span class="nt">&lt;br/&gt;</span>(Being Mechanicall) you ought not 
walke<span class="nt">&lt;br/&gt;</span>Vpon a labouring day, without the signe<span class="nt">&lt;br/&gt;</span>
Of your Profession? Speake, what Trade art thou?<span class="nt">&lt;br/&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>

      </pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">49</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Inserting the form into every line of dialogue</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="programlisting highlight"><pre class="javascript"><span class="nx">$</span><span class="p">(</span><span class="s1">'div.sp'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">line_node</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">form_node</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">form</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">line_node</span><span class="p">);</span>
  <span class="nx">form_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span>
    <span class="s2">"input[name='annotation[id]']"</span>
  <span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
<span class="p">});</span>
      </pre></div></div><div class="foil-notes"><div class="foilinset"><div class="programlisting highlight"><pre class="javascript"><span class="nx">$</span><span class="p">(</span><span class="s1">'div.sp'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">line_node</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">form_node</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">form</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">line_node</span><span class="p">);</span>
  <span class="nx">form_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span>
    <span class="s2">"input[name='annotation[id]']"</span>
  <span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
<span class="p">});</span>
      </pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">50</div></div></div><div class="foil titlefoil foilgroup"><div class="page"><div class="header"><h1>The Annotation object</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">51</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Modelling Annotations</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="itemizedlist"><ul><li><p>Annotation text</p></li><li><p>ID for the annotated thing</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><div class="itemizedlist"><ul><li><p>Annotation text</p></li><li><p>ID for the annotated thing</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">52</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Implementation</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="programlisting highlight"><pre class="ruby"><span class="nb">require</span> <span class="s1">'data_mapper'</span>

<span class="k">class</span> <span class="nc">Annotation</span>
  <span class="kp">include</span> <span class="no">DataMapper</span><span class="o">::</span><span class="no">Resource</span>

  <span class="n">property</span> <span class="ss">:id</span><span class="p">,</span> <span class="no">Serial</span>
  <span class="n">property</span> <span class="ss">:text</span><span class="p">,</span> <span class="no">Text</span>

  <span class="n">property</span> <span class="ss">:act_uid</span><span class="p">,</span> <span class="nb">String</span>
  <span class="n">property</span> <span class="ss">:annotated_id</span><span class="p">,</span> <span class="nb">String</span>

  <span class="n">belongs_to</span> <span class="ss">:user</span>

  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">for</span><span class="p">(</span><span class="n">act_uid</span><span class="p">)</span>
    <span class="n">all</span><span class="p">(</span><span class="ss">:act_uid</span> <span class="o">=&gt;</span> <span class="n">act_uid</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span></pre></div></div><div class="foil-notes"><div class="foilinset"><div class="programlisting highlight"><pre class="ruby"><span class="nb">require</span> <span class="s1">'data_mapper'</span>

<span class="k">class</span> <span class="nc">Annotation</span>
  <span class="kp">include</span> <span class="no">DataMapper</span><span class="o">::</span><span class="no">Resource</span>

  <span class="n">property</span> <span class="ss">:id</span><span class="p">,</span> <span class="no">Serial</span>
  <span class="n">property</span> <span class="ss">:text</span><span class="p">,</span> <span class="no">Text</span>

  <span class="n">property</span> <span class="ss">:act_uid</span><span class="p">,</span> <span class="nb">String</span>
  <span class="n">property</span> <span class="ss">:annotated_id</span><span class="p">,</span> <span class="nb">String</span>

  <span class="n">belongs_to</span> <span class="ss">:user</span>

  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">for</span><span class="p">(</span><span class="n">act_uid</span><span class="p">)</span>
    <span class="n">all</span><span class="p">(</span><span class="ss">:act_uid</span> <span class="o">=&gt;</span> <span class="n">act_uid</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">53</div></div></div><div class="foil titlefoil foilgroup"><div class="page"><div class="header"><h1>Adding Annotations to the body of the Act HTML</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">54</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Getting the annotations to the Browser</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>How can we get annotations from the database into the page?</p><div class="itemizedlist"><ul><li><p>Adding in-place markup?</p></li><li><p>Adding bulk markup?</p></li><li><p>Adding javascript.</p></li></ul></div></div><div class="foil-notes"><div class="foilinset"><p>How can we get annotations from the database into the page?</p><div class="itemizedlist"><ul><li><p>Adding in-place markup?</p></li><li><p>Adding bulk markup?</p></li><li><p>Adding javascript.</p></li></ul></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">55</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Why not through XML?</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="sidebar"><header class="sidebar-titlepage"><h3>What about the source XML?</h3></header><div class="sidebar-content"></div></div><p>We could do this, because we have access to the source XML, but...</p><p>It's potentially dangerous (your document file is open for writing), and opens the whole document to potential user manipulation (potential malicious edit).</p><p>Probably you wouldn't have write access.</p><div class="sidebar"><header class="sidebar-titlepage"><h3>What about the XSLT?</h3></header><div class="sidebar-content"></div></div><p>You may not have access to edit the XSLT, and you'd require native function extension elements.</p><p>It's probably a lot easier to stitch together on the client.</p></div><div class="foil-notes"><div class="foilinset"><div class="sidebar"><header class="sidebar-titlepage"><h3>What about the source XML?</h3></header><div class="sidebar-content"></div></div><p>We could do this, because we have access to the source XML, but...</p><p>It's potentially dangerous (your document file is open for writing), and opens the whole document to potential user manipulation (potential malicious edit).</p><p>Probably you wouldn't have write access.</p><div class="sidebar"><header class="sidebar-titlepage"><h3>What about the XSLT?</h3></header><div class="sidebar-content"></div></div><p>You may not have access to edit the XSLT, and you'd require native function extension elements.</p><p>It's probably a lot easier to stitch together on the client.</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">56</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Building a list of Annotations</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>We can just write a javascript array containing the data we need about each annotation into the page.</p><div class="programlisting highlight"><pre class="javascript"><span class="kd">var</span> <span class="nx">annotations</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">[</span><span class="s1">'id12345'</span><span class="p">,</span> <span class="p">{</span><span class="nx">text</span><span class="o">:</span> <span class="s1">'Annotation text'</span><span class="p">}],</span>
  <span class="p">[</span><span class="s1">'id67890'</span><span class="p">,</span> <span class="p">{</span><span class="nx">text</span><span class="o">:</span> <span class="s1">'Other annotation text'</span><span class="p">}],</span>
  <span class="p">[</span><span class="s1">'id67890'</span><span class="p">,</span> <span class="p">{</span><span class="nx">text</span><span class="o">:</span> <span class="s1">'Last annotation text'</span><span class="p">}],</span>
<span class="p">];</span></pre></div></div><div class="foil-notes"><div class="foilinset"><p>We can just write a javascript array containing the data we need about each annotation into the page.</p><div class="programlisting highlight"><pre class="javascript"><span class="kd">var</span> <span class="nx">annotations</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">[</span><span class="s1">'id12345'</span><span class="p">,</span> <span class="p">{</span><span class="nx">text</span><span class="o">:</span> <span class="s1">'Annotation text'</span><span class="p">}],</span>
  <span class="p">[</span><span class="s1">'id67890'</span><span class="p">,</span> <span class="p">{</span><span class="nx">text</span><span class="o">:</span> <span class="s1">'Other annotation text'</span><span class="p">}],</span>
  <span class="p">[</span><span class="s1">'id67890'</span><span class="p">,</span> <span class="p">{</span><span class="nx">text</span><span class="o">:</span> <span class="s1">'Last annotation text'</span><span class="p">}],</span>
<span class="p">];</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">57</div></div></div><div class="foil"><div class="page"><div class="header"><h1>JSON is just Javascript</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>The JSON data serialisation format is a perfect fit here.</p><p>JavaScript Object Notation uses the literal notation for Javascript.</p><p>So, the previous page's array literal is also valid JSON.</p></div><div class="foil-notes"><div class="foilinset"><p>The JSON data serialisation format is a perfect fit here.</p><p>JavaScript Object Notation uses the literal notation for Javascript.</p><p>So, the previous page's array literal is also valid JSON.</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">58</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Inserting the Annotations</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>What if we could just create the Annotations array like this?</p><div class="programlisting highlight"><pre class="js+erb">  <span class="kd">var</span> <span class="nx">annotations</span> <span class="o">=</span> <span class="cp">&lt;%=</span> <span class="vi">@annotations</span><span class="o">.</span><span class="n">to_json</span> <span class="cp">%&gt;</span><span class="p">;</span></pre></div><p>Let's make that possible.</p><div class="programlisting highlight"><pre class="ruby"><span class="nb">require</span> <span class="s1">'json'</span>

<span class="k">class</span> <span class="nc">Annotation</span>
  <span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="n">opts</span> <span class="o">=</span> <span class="p">{})</span>
    <span class="o">[</span>
      <span class="n">act_uid</span><span class="p">,</span> 
      <span class="p">{</span><span class="s1">'text'</span> <span class="o">=&gt;</span> <span class="n">text</span><span class="p">,</span> <span class="s1">'author'</span> <span class="o">=&gt;</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="p">}</span>
    <span class="o">].</span><span class="n">to_json</span><span class="p">(</span><span class="n">opts</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span></pre></div><p><code class="code">lib/show.erb</code></p></div><div class="foil-notes"><div class="foilinset"><p>What if we could just create the Annotations array like this?</p><div class="programlisting highlight"><pre class="js+erb">  <span class="kd">var</span> <span class="nx">annotations</span> <span class="o">=</span> <span class="cp">&lt;%=</span> <span class="vi">@annotations</span><span class="o">.</span><span class="n">to_json</span> <span class="cp">%&gt;</span><span class="p">;</span></pre></div><p>Let's make that possible.</p><div class="programlisting highlight"><pre class="ruby"><span class="nb">require</span> <span class="s1">'json'</span>

<span class="k">class</span> <span class="nc">Annotation</span>
  <span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="n">opts</span> <span class="o">=</span> <span class="p">{})</span>
    <span class="o">[</span>
      <span class="n">act_uid</span><span class="p">,</span> 
      <span class="p">{</span><span class="s1">'text'</span> <span class="o">=&gt;</span> <span class="n">text</span><span class="p">,</span> <span class="s1">'author'</span> <span class="o">=&gt;</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="p">}</span>
    <span class="o">].</span><span class="n">to_json</span><span class="p">(</span><span class="n">opts</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span></pre></div><p><code class="code">lib/show.erb</code></p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">59</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Inserting the Annotations</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>We need a template annotation we can clone and populate.</p><div class="programlisting highlight"><pre class="javascript"><span class="c1">// container for all annotations of a line</span>
<span class="kd">var</span> <span class="nx">annotations_html</span> <span class="o">=</span> <span class="s1">'&lt;div class="annotations"&gt;&lt;/div&gt;'</span><span class="p">;</span>
<span class="c1">// container for an individual annotation</span>
<span class="kd">var</span> <span class="nx">annotation_html</span> <span class="o">=</span> <span class="s1">'&lt;div class="annotation"&gt;'</span>
  <span class="o">+</span> <span class="s1">'  &lt;p&gt;&lt;/p&gt;'</span>
  <span class="o">+</span> <span class="s1">'  &lt;p class="author"&gt;&lt;/p&gt;'</span>
  <span class="o">+</span> <span class="s1">'&lt;/div&gt;'</span><span class="p">;</span></pre></div><p><code class="code">views/show.erb</code></p></div><div class="foil-notes"><div class="foilinset"><p>We need a template annotation we can clone and populate.</p><div class="programlisting highlight"><pre class="javascript"><span class="c1">// container for all annotations of a line</span>
<span class="kd">var</span> <span class="nx">annotations_html</span> <span class="o">=</span> <span class="s1">'&lt;div class="annotations"&gt;&lt;/div&gt;'</span><span class="p">;</span>
<span class="c1">// container for an individual annotation</span>
<span class="kd">var</span> <span class="nx">annotation_html</span> <span class="o">=</span> <span class="s1">'&lt;div class="annotation"&gt;'</span>
  <span class="o">+</span> <span class="s1">'  &lt;p&gt;&lt;/p&gt;'</span>
  <span class="o">+</span> <span class="s1">'  &lt;p class="author"&gt;&lt;/p&gt;'</span>
  <span class="o">+</span> <span class="s1">'&lt;/div&gt;'</span><span class="p">;</span></pre></div><p><code class="code">views/show.erb</code></p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">60</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Inserting the Annotations</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Now we need to clone and populate it.</p><div class="programlisting highlight"><pre class="js+erb"><span class="kd">var</span> <span class="nx">annotations</span> <span class="o">=</span> <span class="cp">&lt;%=</span> <span class="vi">@annotations</span><span class="o">.</span><span class="n">to_json</span> <span class="cp">%&gt;</span><span class="p">;</span>
<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">annotations</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">annotation</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">id</span> <span class="o">=</span> <span class="nx">annotation</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">annotation</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">annotated_node</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#'</span> <span class="o">+</span> <span class="nx">id</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">annotated_node</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">annotated_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'.annotations'</span><span class="p">).</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">annotated_node</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">annotations_html</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="kd">var</span> <span class="nx">annotation_node</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">annotation_html</span><span class="p">);</span>
      <span class="nx">annotation_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'p:first'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">text</span><span class="p">);</span>
      <span class="nx">annotation_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'p.author'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">author</span><span class="p">);</span>
      <span class="nx">annotated_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'.annotations'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span>
        <span class="nx">annotation_node</span>
      <span class="p">);</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="p">});</span></pre></div><p><code class="code">views/show.erb</code></p></div><div class="foil-notes"><div class="foilinset"><p>Now we need to clone and populate it.</p><div class="programlisting highlight"><pre class="js+erb"><span class="kd">var</span> <span class="nx">annotations</span> <span class="o">=</span> <span class="cp">&lt;%=</span> <span class="vi">@annotations</span><span class="o">.</span><span class="n">to_json</span> <span class="cp">%&gt;</span><span class="p">;</span>
<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">annotations</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">annotation</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">id</span> <span class="o">=</span> <span class="nx">annotation</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">annotation</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">annotated_node</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#'</span> <span class="o">+</span> <span class="nx">id</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">annotated_node</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">annotated_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'.annotations'</span><span class="p">).</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">annotated_node</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">annotations_html</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="kd">var</span> <span class="nx">annotation_node</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">annotation_html</span><span class="p">);</span>
      <span class="nx">annotation_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'p:first'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">text</span><span class="p">);</span>
      <span class="nx">annotation_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'p.author'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">author</span><span class="p">);</span>
      <span class="nx">annotated_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'.annotations'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span>
        <span class="nx">annotation_node</span>
      <span class="p">);</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="p">});</span></pre></div><p><code class="code">views/show.erb</code></p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">61</div></div></div><div class="foil titlefoil foilgroup"><div class="page"><div class="header"><h1>Processing the form POST</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">62</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Processing the form POST</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="programlisting highlight"><pre><span class="n">post</span> <span class="s">'/plays/:id/act/:act_number/annotations'</span> <span class="n">do</span>
  <span class="n">halt</span> 403 <span class="n">unless</span> <span class="n">current_user</span>
  <span class="p">@</span><span class="n">play</span> <span class="p">=</span> <span class="n">Play</span><span class="p">.</span><span class="nb">find</span><span class="p">(</span><span class="n">params</span><span class="p">[:</span><span class="n">id</span><span class="p">])</span>
  <span class="p">@</span><span class="n">act</span> <span class="p">=</span> <span class="p">@</span><span class="n">play</span><span class="p">.</span><span class="n">act</span><span class="p">(</span><span class="n">params</span><span class="p">[:</span><span class="n">act_number</span><span class="p">])</span>
  <span class="n">attrs</span> <span class="p">=</span> <span class="n">params</span><span class="p">[</span><span class="s">'annotation'</span><span class="p">]</span>
  <span class="n">annotation</span> <span class="p">=</span> <span class="n">current_user</span><span class="p">.</span><span class="n">annotations</span><span class="p">.</span><span class="n">create</span>!<span class="p">(</span>
    <span class="p">:</span><span class="n">text</span> <span class="p">=</span><span class="o">&gt;</span> <span class="n">attrs</span><span class="p">[</span><span class="s">'text'</span><span class="p">],</span> <span class="p">:</span><span class="n">act_uid</span> <span class="p">=</span><span class="o">&gt;</span> <span class="p">@</span><span class="n">act</span><span class="p">.</span><span class="n">uid</span><span class="p">,</span>
    <span class="p">:</span><span class="n">annotated_id</span> <span class="p">=</span><span class="o">&gt;</span> <span class="n">attrs</span><span class="p">[</span><span class="s">'id'</span><span class="p">])</span>
  <span class="n">redirect</span> <span class="n">to</span><span class="p">(</span>"<span class="o">/</span><span class="n">plays</span><span class="o">/</span>#<span class="p">{@</span><span class="n">play</span><span class="p">.</span><span class="n">slug</span><span class="p">}</span><span class="o">/</span><span class="n">act</span><span class="o">/</span>#<span class="p">{@</span><span class="n">act</span><span class="p">.</span><span class="n">number</span><span class="p">}</span>"<span class="p">)</span>
<span class="k">end</span></pre></div><p><code class="code">lib/annotated_shakespeare.rb</code></p></div><div class="foil-notes"><div class="foilinset"><div class="programlisting highlight"><pre><span class="n">post</span> <span class="s">'/plays/:id/act/:act_number/annotations'</span> <span class="n">do</span>
  <span class="n">halt</span> 403 <span class="n">unless</span> <span class="n">current_user</span>
  <span class="p">@</span><span class="n">play</span> <span class="p">=</span> <span class="n">Play</span><span class="p">.</span><span class="nb">find</span><span class="p">(</span><span class="n">params</span><span class="p">[:</span><span class="n">id</span><span class="p">])</span>
  <span class="p">@</span><span class="n">act</span> <span class="p">=</span> <span class="p">@</span><span class="n">play</span><span class="p">.</span><span class="n">act</span><span class="p">(</span><span class="n">params</span><span class="p">[:</span><span class="n">act_number</span><span class="p">])</span>
  <span class="n">attrs</span> <span class="p">=</span> <span class="n">params</span><span class="p">[</span><span class="s">'annotation'</span><span class="p">]</span>
  <span class="n">annotation</span> <span class="p">=</span> <span class="n">current_user</span><span class="p">.</span><span class="n">annotations</span><span class="p">.</span><span class="n">create</span>!<span class="p">(</span>
    <span class="p">:</span><span class="n">text</span> <span class="p">=</span><span class="o">&gt;</span> <span class="n">attrs</span><span class="p">[</span><span class="s">'text'</span><span class="p">],</span> <span class="p">:</span><span class="n">act_uid</span> <span class="p">=</span><span class="o">&gt;</span> <span class="p">@</span><span class="n">act</span><span class="p">.</span><span class="n">uid</span><span class="p">,</span>
    <span class="p">:</span><span class="n">annotated_id</span> <span class="p">=</span><span class="o">&gt;</span> <span class="n">attrs</span><span class="p">[</span><span class="s">'id'</span><span class="p">])</span>
  <span class="n">redirect</span> <span class="n">to</span><span class="p">(</span>"<span class="o">/</span><span class="n">plays</span><span class="o">/</span>#<span class="p">{@</span><span class="n">play</span><span class="p">.</span><span class="n">slug</span><span class="p">}</span><span class="o">/</span><span class="n">act</span><span class="o">/</span>#<span class="p">{@</span><span class="n">act</span><span class="p">.</span><span class="n">number</span><span class="p">}</span>"<span class="p">)</span>
<span class="k">end</span></pre></div><p><code class="code">lib/annotated_shakespeare.rb</code></p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">63</div></div></div><div class="foil titlefoil foilgroup"><div class="page"><div class="header"><h1>Adding Annotations without reloading the page</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">64</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Hijacking the form</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>The classic 'Ajax' app-like behaviour is to submit or retrieve data from the server without triggering a page refresh.</p><p>First, we need to intercept the form's <code class="code">submit</code> event.</p><p>Because we have a variable number of forms on the page, let's intercept them all and rely on local context to deal with them correctly.</p><div class="programlisting highlight"><pre class="js"><span class="nx">$</span><span class="p">(</span><span class="s1">'.sp form'</span><span class="p">).</span><span class="nx">submit</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">alert</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">serialize</span><span class="p">());</span>
<span class="p">});</span></pre></div><p><code class="code">views/show.erb</code></p></div><div class="foil-notes"><div class="foilinset"><p>The classic 'Ajax' app-like behaviour is to submit or retrieve data from the server without triggering a page refresh.</p><p>First, we need to intercept the form's <code class="code">submit</code> event.</p><p>Because we have a variable number of forms on the page, let's intercept them all and rely on local context to deal with them correctly.</p><div class="programlisting highlight"><pre class="js"><span class="nx">$</span><span class="p">(</span><span class="s1">'.sp form'</span><span class="p">).</span><span class="nx">submit</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">alert</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">serialize</span><span class="p">());</span>
<span class="p">});</span></pre></div><p><code class="code">views/show.erb</code></p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">65</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Preventing it submitting anyway</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>You'll have noticed that the alert message appeared and then the normal form submission process resumed. Let's stop that happening.</p><div class="programlisting highlight"><pre class="js"><span class="nx">$</span><span class="p">(</span><span class="s1">'.sp form'</span><span class="p">).</span><span class="nx">submit</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">alert</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">serialize</span><span class="p">());</span>
<span class="p">});</span></pre></div><p><code class="code">views/show.erb</code></p></div><div class="foil-notes"><div class="foilinset"><p>You'll have noticed that the alert message appeared and then the normal form submission process resumed. Let's stop that happening.</p><div class="programlisting highlight"><pre class="js"><span class="nx">$</span><span class="p">(</span><span class="s1">'.sp form'</span><span class="p">).</span><span class="nx">submit</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">alert</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">serialize</span><span class="p">());</span>
<span class="p">});</span></pre></div><p><code class="code">views/show.erb</code></p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">66</div></div></div><div class="foil"><div class="page"><div class="header"><h1>POSTing</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Now let's actually submit the data, using jQuery's Ajax convenience functions.</p><div class="programlisting highlight"><pre class="js"><span class="nx">$</span><span class="p">(</span><span class="s1">'.sp form'</span><span class="p">).</span><span class="nx">submit</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">action</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">serialize</span><span class="p">());</span>
<span class="p">});</span></pre></div><p><code class="code">views/show.erb</code></p><p>Better, but now there's no immediate evidence we did anything.</p></div><div class="foil-notes"><div class="foilinset"><p>Now let's actually submit the data, using jQuery's Ajax convenience functions.</p><div class="programlisting highlight"><pre class="js"><span class="nx">$</span><span class="p">(</span><span class="s1">'.sp form'</span><span class="p">).</span><span class="nx">submit</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">action</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">serialize</span><span class="p">());</span>
<span class="p">});</span></pre></div><p><code class="code">views/show.erb</code></p><p>Better, but now there's no immediate evidence we did anything.</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">67</div></div></div><div class="foil"><div class="page"><div class="header"><h1>The success callback</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>jQuery's <code class="code">$.post()</code> function can also take a function as an argument, and the function will called if the POST request succeeds.</p><div class="programlisting highlight"><pre class="js"><span class="nx">$</span><span class="p">(</span><span class="s1">'.sp form'</span><span class="p">).</span><span class="nx">submit</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">line_node</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">parents</span><span class="p">(</span><span class="s1">'.sp'</span><span class="p">);</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">action</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">serialize</span><span class="p">(),</span> 
    <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">text_status</span><span class="p">,</span> <span class="nx">jq_xhr</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">line_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'.annotations'</span><span class="p">).</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">line_node</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">annotations_html</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kd">var</span> <span class="nx">annotation_node</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">annotation_html</span><span class="p">);</span>
    <span class="nx">annotated_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'.annotations'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">annotation_node</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span></pre></div><p><code class="code">views/show.erb</code></p></div><div class="foil-notes"><div class="foilinset"><p>jQuery's <code class="code">$.post()</code> function can also take a function as an argument, and the function will called if the POST request succeeds.</p><div class="programlisting highlight"><pre class="js"><span class="nx">$</span><span class="p">(</span><span class="s1">'.sp form'</span><span class="p">).</span><span class="nx">submit</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">line_node</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">parents</span><span class="p">(</span><span class="s1">'.sp'</span><span class="p">);</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">action</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">serialize</span><span class="p">(),</span> 
    <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">text_status</span><span class="p">,</span> <span class="nx">jq_xhr</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">line_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'.annotations'</span><span class="p">).</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">line_node</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">annotations_html</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kd">var</span> <span class="nx">annotation_node</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">annotation_html</span><span class="p">);</span>
    <span class="nx">annotated_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'.annotations'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">annotation_node</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span></pre></div><p><code class="code">views/show.erb</code></p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">68</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Choosing the response format</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Oh dear, we're being sent the redirect response when what we really want is one of those JSON annotation lines... We'd better return that instead of all the HTML when we submit the Ajax request.</p><div class="programlisting highlight"><pre class="ruby"><span class="n">post</span> <span class="s1">'/plays/:id/act/:act_number/annotations'</span> <span class="k">do</span>
  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
  <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">xhr?</span>
    <span class="k">return</span> <span class="o">[</span>
      <span class="mi">201</span><span class="p">,</span> 
      <span class="p">{</span><span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">},</span> 
      <span class="n">annotation</span><span class="o">.</span><span class="n">to_json</span>
    <span class="o">]</span>
  <span class="k">end</span>
  <span class="n">redirect</span> <span class="n">to</span><span class="p">(</span><span class="s2">"/plays/</span><span class="si">#{</span><span class="vi">@play</span><span class="o">.</span><span class="n">slug</span><span class="si">}</span><span class="s2">/act/</span><span class="si">#{</span><span class="vi">@act</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="k">end</span></pre></div><p><code class="code">lib/annotated_shakespeare.rb</code></p><div class="programlisting highlight"><pre class="js"><span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">action</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">serialize</span><span class="p">(),</span> 
  <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">text_status</span><span class="p">,</span> <span class="nx">jq_xhr</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="kd">var</span> <span class="nx">annotation_node</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">annotation_html</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">annotation</span> <span class="o">=</span> <span class="nx">data</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
  <span class="nx">annotation_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'p:first'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">annotation</span><span class="p">.</span><span class="nx">text</span><span class="p">);</span>
  <span class="nx">annotation_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'p.author'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">annotation</span><span class="p">.</span><span class="nx">author</span><span class="p">);</span>
  <span class="nx">annotated_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'.annotations'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span>
    <span class="nx">annotation_node</span>
  <span class="p">);</span>
<span class="p">});</span></pre></div></div><div class="foil-notes"><div class="foilinset"><p>Oh dear, we're being sent the redirect response when what we really want is one of those JSON annotation lines... We'd better return that instead of all the HTML when we submit the Ajax request.</p><div class="programlisting highlight"><pre class="ruby"><span class="n">post</span> <span class="s1">'/plays/:id/act/:act_number/annotations'</span> <span class="k">do</span>
  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
  <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">xhr?</span>
    <span class="k">return</span> <span class="o">[</span>
      <span class="mi">201</span><span class="p">,</span> 
      <span class="p">{</span><span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">},</span> 
      <span class="n">annotation</span><span class="o">.</span><span class="n">to_json</span>
    <span class="o">]</span>
  <span class="k">end</span>
  <span class="n">redirect</span> <span class="n">to</span><span class="p">(</span><span class="s2">"/plays/</span><span class="si">#{</span><span class="vi">@play</span><span class="o">.</span><span class="n">slug</span><span class="si">}</span><span class="s2">/act/</span><span class="si">#{</span><span class="vi">@act</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="k">end</span></pre></div><p><code class="code">lib/annotated_shakespeare.rb</code></p><div class="programlisting highlight"><pre class="js"><span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">action</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">serialize</span><span class="p">(),</span> 
  <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">text_status</span><span class="p">,</span> <span class="nx">jq_xhr</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="kd">var</span> <span class="nx">annotation_node</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">annotation_html</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">annotation</span> <span class="o">=</span> <span class="nx">data</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
  <span class="nx">annotation_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'p:first'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">annotation</span><span class="p">.</span><span class="nx">text</span><span class="p">);</span>
  <span class="nx">annotation_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'p.author'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">annotation</span><span class="p">.</span><span class="nx">author</span><span class="p">);</span>
  <span class="nx">annotated_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'.annotations'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span>
    <span class="nx">annotation_node</span>
  <span class="p">);</span>
<span class="p">});</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">69</div></div></div><div class="foil"><div class="page"><div class="header"><h1><code class="code">request.xhr?</code></h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>When an Ajax request gets made, it sends an HTTP header to the server which allows it to be identified as an Ajax request.</p><p><code class="code">request.xhr?</code> makes use of that to give you a true/false value answer to the is-this-an-Ajax-request question.</p><p>It's not always reliable, and often you want to respond in that way (201 not 302) to other requests, especially APIish ones. It would be nice if the requestor could ask for <code class="code">application/json</code> or <code class="code">text/plain</code> (or whatever) to make an explicit request for a certain kind of response.</p></div><div class="foil-notes"><div class="foilinset"><p>When an Ajax request gets made, it sends an HTTP header to the server which allows it to be identified as an Ajax request.</p><p><code class="code">request.xhr?</code> makes use of that to give you a true/false value answer to the is-this-an-Ajax-request question.</p><p>It's not always reliable, and often you want to respond in that way (201 not 302) to other requests, especially APIish ones. It would be nice if the requestor could ask for <code class="code">application/json</code> or <code class="code">text/plain</code> (or whatever) to make an explicit request for a certain kind of response.</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">70</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Content Negotiation</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>The browser sends the <code class="code">Accept</code> header listing content-types it wants:</p><div class="programlisting highlight"><pre class="http"><span class="err">Accept: application/json</span></pre></div><p>The server can use that information to tailor the response.</p><p>The other common approach is to use .extensions as an explicit format request:</p><div class="programlisting highlight"><pre class="text">/path/to/resource.html
/path/to/resource.json</pre></div></div><div class="foil-notes"><div class="foilinset"><p>The browser sends the <code class="code">Accept</code> header listing content-types it wants:</p><div class="programlisting highlight"><pre class="http"><span class="err">Accept: application/json</span></pre></div><p>The server can use that information to tailor the response.</p><p>The other common approach is to use .extensions as an explicit format request:</p><div class="programlisting highlight"><pre class="text">/path/to/resource.html
/path/to/resource.json</pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">71</div></div></div><div class="foil titlefoil foilgroup"><div class="page"><div class="header"><h1>Showing and hiding annotations on demand</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">72</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Showing and hiding the form</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="programlisting highlight"><pre class="javascript"><span class="kd">var</span> <span class="nx">controls</span> <span class="o">=</span> <span class="s1">'&lt;p class="annotation controls"&gt;'</span>
  <span class="o">+</span> <span class="s1">'&lt;a href="#add" class="add"&gt;+&lt;/a&gt;&lt;/p&gt;'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">controls_node</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">controls</span><span class="p">).</span><span class="nx">prependTo</span><span class="p">(</span><span class="nx">line_node</span><span class="p">);</span>
<span class="nx">controls_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'.add'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">controls_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'.add'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> 
    <span class="nx">annotation_form_node</span><span class="p">.</span><span class="nx">show</span><span class="p">()</span> 
  <span class="p">});</span>
<span class="p">});</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">action</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">serialize</span><span class="p">(),</span> 
  <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">text_status</span><span class="p">,</span> <span class="nx">jq_xhr</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
<span class="p">});</span></pre></div></div><div class="foil-notes"><div class="foilinset"><div class="programlisting highlight"><pre class="javascript"><span class="kd">var</span> <span class="nx">controls</span> <span class="o">=</span> <span class="s1">'&lt;p class="annotation controls"&gt;'</span>
  <span class="o">+</span> <span class="s1">'&lt;a href="#add" class="add"&gt;+&lt;/a&gt;&lt;/p&gt;'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">controls_node</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">controls</span><span class="p">).</span><span class="nx">prependTo</span><span class="p">(</span><span class="nx">line_node</span><span class="p">);</span>
<span class="nx">controls_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'.add'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">controls_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'.add'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> 
    <span class="nx">annotation_form_node</span><span class="p">.</span><span class="nx">show</span><span class="p">()</span> 
  <span class="p">});</span>
<span class="p">});</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">action</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">serialize</span><span class="p">(),</span> 
  <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">text_status</span><span class="p">,</span> <span class="nx">jq_xhr</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
<span class="p">});</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">73</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Toggling the annotations</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><div class="programlisting highlight"><pre class="javascript"><span class="kd">var</span> <span class="nx">controls</span> <span class="o">=</span> <span class="s1">'&lt;p class="annotation controls"&gt;'</span>
  <span class="o">+</span> <span class="s1">'&lt;a href="#show" class="show"&gt;Show&lt;/a&gt;'</span>
  <span class="o">+</span> <span class="s1">' | &lt;a href="#add" class="add"&gt;+&lt;/a&gt;&lt;/p&gt;'</span><span class="p">;</span>
<span class="p">...</span>
<span class="nx">controls_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'.show'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">annotations_node</span> <span class="o">=</span> <span class="nx">annotated_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span>
    <span class="s1">'.annotations'</span>
  <span class="p">);</span>
  <span class="nx">annotations_node</span><span class="p">.</span><span class="nx">toggle</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">annotations_node</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s1">':visible'</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="s1">'Hide'</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="s1">'Show'</span><span class="p">);</span> <span class="p">}</span>
<span class="p">});</span>

      </pre></div></div><div class="foil-notes"><div class="foilinset"><div class="programlisting highlight"><pre class="javascript"><span class="kd">var</span> <span class="nx">controls</span> <span class="o">=</span> <span class="s1">'&lt;p class="annotation controls"&gt;'</span>
  <span class="o">+</span> <span class="s1">'&lt;a href="#show" class="show"&gt;Show&lt;/a&gt;'</span>
  <span class="o">+</span> <span class="s1">' | &lt;a href="#add" class="add"&gt;+&lt;/a&gt;&lt;/p&gt;'</span><span class="p">;</span>
<span class="p">...</span>
<span class="nx">controls_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'.show'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">annotations_node</span> <span class="o">=</span> <span class="nx">annotated_node</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span>
    <span class="s1">'.annotations'</span>
  <span class="p">);</span>
  <span class="nx">annotations_node</span><span class="p">.</span><span class="nx">toggle</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">annotations_node</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s1">':visible'</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="s1">'Hide'</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="s1">'Show'</span><span class="p">);</span> <span class="p">}</span>
<span class="p">});</span>

      </pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">74</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Where does the state live?</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>We're just trusting the DOM to give us enough context to infer UI state: it's being stored implicitly. There's nothing explicit that would allow us to reconstruct the state of the UI (e.g. which annotations are currently shown) on a page refresh.</p><p>For more complex UI we'd probably want to start using things like adding and removing CSS classes from elements to explicitly indicate state. For even more complex stuff we'd probably want to look at Javascript application framework libraries like Backbone.js or Ember.js.</p></div><div class="foil-notes"><div class="foilinset"><p>We're just trusting the DOM to give us enough context to infer UI state: it's being stored implicitly. There's nothing explicit that would allow us to reconstruct the state of the UI (e.g. which annotations are currently shown) on a page refresh.</p><p>For more complex UI we'd probably want to start using things like adding and removing CSS classes from elements to explicitly indicate state. For even more complex stuff we'd probably want to look at Javascript application framework libraries like Backbone.js or Ember.js.</p></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">75</div></div></div><div class="foil titlefoil foilgroup"><div class="page"><div class="header"><h1>Unobtrusively indicating the presence of annotations</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">76</div></div></div><div class="foil"><div class="page"><div class="header"><h1>CSS manipulation</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><a href="javascript:clicknav('next')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></a></div><div class="foil-body"><p>Currently we have no way to see which lines have annotations. Let's apply a highlight to those lines that have annotations.</p><div class="programlisting highlight"><pre class="js"><span class="nx">$</span><span class="p">(</span><span class="s1">'.sp'</span><span class="p">).</span><span class="nx">has</span><span class="p">(</span><span class="s1">'.annotations'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">'background-color'</span><span class="p">,</span> <span class="s1">'rgb(249,240,158)'</span><span class="p">);</span>
<span class="p">});</span></pre></div></div><div class="foil-notes"><div class="foilinset"><p>Currently we have no way to see which lines have annotations. Let's apply a highlight to those lines that have annotations.</p><div class="programlisting highlight"><pre class="js"><span class="nx">$</span><span class="p">(</span><span class="s1">'.sp'</span><span class="p">).</span><span class="nx">has</span><span class="p">(</span><span class="s1">'.annotations'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">'background-color'</span><span class="p">,</span> <span class="s1">'rgb(249,240,158)'</span><span class="p">);</span>
<span class="p">});</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">77</div></div></div><div class="foil"><div class="page"><div class="header"><h1>Multiple triggers</h1></div><div class="body"><div class="clicknav"><a href="javascript:clicknav('prev')"><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Prev]" /></a><img src="http://docbook.github.com/release/2.0.3/base/../slides/img/transparent.gif" alt="[Next]" /></div><div class="foil-body"><p>What about once we've added an annotation?</p><p>Why don't we think in terms of an <code class="code">annotated</code> event which is fired whenever a line gets annotated.</p><div class="programlisting highlight"><pre class="js"><span class="nx">$</span><span class="p">(</span><span class="s1">'.sp'</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">'annotated'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">'background-color'</span><span class="p">,</span> <span class="s1">'rgb(249,240,158)'</span><span class="p">);</span>
<span class="p">});</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">'.sp'</span><span class="p">).</span><span class="nx">has</span><span class="p">(</span><span class="s1">'.annotations'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">trigger</span><span class="p">(</span><span class="s1">'annotated'</span><span class="p">);</span>
<span class="p">});</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">action</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">serialize</span><span class="p">(),</span> 
  <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">text_status</span><span class="p">,</span> <span class="nx">jq_xhr</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="nx">annotated_node</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s1">'annotated'</span><span class="p">);</span>
<span class="p">});</span></pre></div></div><div class="foil-notes"><div class="foilinset"><p>What about once we've added an annotation?</p><p>Why don't we think in terms of an <code class="code">annotated</code> event which is fired whenever a line gets annotated.</p><div class="programlisting highlight"><pre class="js"><span class="nx">$</span><span class="p">(</span><span class="s1">'.sp'</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">'annotated'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">'background-color'</span><span class="p">,</span> <span class="s1">'rgb(249,240,158)'</span><span class="p">);</span>
<span class="p">});</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">'.sp'</span><span class="p">).</span><span class="nx">has</span><span class="p">(</span><span class="s1">'.annotations'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">trigger</span><span class="p">(</span><span class="s1">'annotated'</span><span class="p">);</span>
<span class="p">});</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">action</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">serialize</span><span class="p">(),</span> 
  <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">text_status</span><span class="p">,</span> <span class="nx">jq_xhr</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="nx">annotated_node</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s1">'annotated'</span><span class="p">);</span>
<span class="p">});</span></pre></div></div><p>No speaker notes for this foil.</p></div></div></div><div class="footer"><div class="license">Licensed under a Creative Commons Attribution-
  <br />Noncommercial-Share Alike 3.0 Unported License</div><div class="content">www.xmlsummerschool.com</div><div class="foilnumber">78</div></div></div></body></html>